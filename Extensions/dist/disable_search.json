{"id":"disable_search","script":"//* TITLE Classic Search **//\r\n//* VERSION 1.0 REV D **//\r\n//* DESCRIPTION Get the old search back **//\r\n//* DETAILS This is a very simple extension that simply redirects your search requests to the old Tumblr tag search pages. Note that features of the new search page, such as multiple tag search will not work when this extension is enabled. **//\r\n//* DEVELOPER STUDIOXENIX **//\r\n//* FRAME false **//\r\n//* BETA false **//\r\n\r\nXKit.extensions.disable_search = new Object({\r\n\r\n\trunning: false,\r\n\r\n\tpreferences: {\r\n\t\t\"sep0\": {\r\n\t\t\ttext: \"Search Results\",\r\n\t\t\ttype: \"separator\",\r\n\t\t},\r\n\t\t\"open_in_new_tab\": {\r\n\t\t\ttext: \"Open search results in a new tab\",\r\n\t\t\tdefault: true,\r\n\t\t\tvalue: true\r\n\t\t}\r\n\t},\r\n\r\n\r\n\trun: function() {\r\n\r\n\t\tthis.running = true;\r\n\t\t$('#search_form').on('submit', XKit.extensions.disable_search.do);\r\n\t\t$('#search_query').on('keyup keydown', XKit.extensions.disable_search.do_suggestions);\r\n\r\n\t},\r\n\r\n\tdo_suggestions: function(e, stop) {\r\n\r\n\t\t$(\".popover_menu_item .result a\").each(function() {\r\n\r\n\t\t\tvar new_link = $(this).attr('href').replace('tumblr.com/search/', 'tumblr.com/tagged/');\r\n\t\t\tconsole.log(new_link);\r\n\t\t\t$(this).attr('href', new_link);\r\n\r\n\t\t});\r\n\r\n\t\t$(\".search_typeahead\").unbind(\"click\");\r\n\t\t$(\".search_typeahead\").bind(\"click\", function(ev) {\r\n\r\n\t\t\tev.preventDefault();\r\n\t\t\tev.stopPropagation();\r\n\r\n\t\t\tvar new_link = $(this).attr('href').replace('tumblr.com/search/', 'tumblr.com/tagged/');\r\n\r\n\t\t\tif (XKit.extensions.disable_search.preferences.open_in_new_tab.value === true) {\r\n\t\t\t\twindow.open(new_link);\r\n\t\t\t} else {\r\n\t\t\t\tdocument.location = new_link;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tif (stop) { return; }\r\n\r\n\t\t// This is so fucking terrible but oh well.\r\n\t\t// Will do something better in the future.\r\n\t\tsetTimeout(function() { XKit.extensions.disable_search.do_suggestions(true, true) }, 500);\r\n\t\tsetTimeout(function() { XKit.extensions.disable_search.do_suggestions(true, true) }, 1500);\r\n\r\n\t},\r\n\r\n\tdo: function(e) {\r\n\r\n\t\te.preventDefault();  //prevent form from submitting\r\n\t\tvar query = $(\"#search_query\").val();\r\n\t\tquery = encodeURIComponent(query).replace(/%20/g, '+').replace(/_/g, '-');\r\n\r\n\t\tvar url = \"http://www.tumblr.com/tagged/\" + query;\r\n\r\n\t\tif (XKit.extensions.disable_search.preferences.open_in_new_tab.value === true) {\r\n\t\t\twindow.open(url);\r\n\t\t} else {\r\n\t\t\tdocument.location = url;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tthis.running = false;\r\n\t\t$('#search_form').off('submit', XKit.extensions.disable_search.do);\r\n\t}\r\n\r\n});","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGNzdGMTE3NDA3MjA2ODExODA4MzkyMjM2MzU5MTQ4NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1NTY1ODZDMDM4QzQxMUUzQTFDQUFDOThEMTlDRUY3OSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NTY1ODZCRjM4QzQxMUUzQTFDQUFDOThEMTlDRUY3OSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZCN0YxMTc0MDcyMDY4MTE4MDgzOTIyMzYzNTkxNDg0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkY3N0YxMTc0MDcyMDY4MTE4MDgzOTIyMzYzNTkxNDg0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+MHc+egAAA7NJREFUeNpi/BrKQFPAxMAwagF+wEJYCTcDs7wDhPn34QGGr6RawIhbzj6ZxSuPSUEPWfDfg0t/tk36c3AukRYwfo3AFnByhmxZC5nkdXFp+/fw8q9p8f8enSfCgkhM0004avcwcPMT0Pr1449ml3+PzhCyIAqVz8XB0XaTUVQOGujXjvzZMeXv2ZUQLrOmO0tQDbOWDdyO7wUS/7/9wJuKmBmQEWtQH9z0X0uqfnbY/n9yjjWkgy1jGZD8/+4eUOTXrCxY/POzxs5FMwENMX6NQ3I+pzDnjDcQ9p9Dy3/NjWJxq2KLbkV20a/ZOX+OTGUN6GQNLIOI/CjW/PfmBm4fMDHAEbMJLEK+ffq9opBJ3gZi+u8NPT87fP/smgVks6VOYeQW/7O7D6gGaoRxMLIhaIiFkRE5eqHJ5s+57Qw/XrLYNoOi4fzOP5tKQSnn1hYGbgFGERlGMc3/jw4A1bDYhIMiRsPm7x7caZ2RiRURRPB0+e4pUJxRXgdkwc3jcDV/5sdAVQJF3j2FxwSyIRgZjYkDORHBaCawOJjLxAhXwyhrzsAlwPDm4f+3N0Bq4LpQDEGPAxY4+v/4OswgLTAXFHXMhh5wBewl69mLVzPKGYK4wjJQM75/QjYEDQExwnf/nkETA7OB228eyb8H5rA4JzCrmjNkrfp7YTezZRADJw/D9y//7h5h4JFkMXCH5pU7pxhwBxEw6bDD0b8rOxm+f4ZIsMZN/P/h0e8lVUATmfVc2OI6QTZ9//JrcQXDz88sIc0MXLwQlf8v70Y2BA2BPQIHPz/9ObCYxROUj4CG/o+Z9GdZ0b+7J5hULBmFpP//+Pzv0s7/7x6weFWwWARBo/3khv8fHqMYglZUfC9URxHg4GfLWsQkAxX89+Tm38NL/17eyfDjI1AKaBOzXQyziglC/ffPP6cm/n92BbcFxdroQpLa7FlzQcFNJPj+5ee05P/PrxJORdC09PLmjw6vv3fP4zcUwebkATqIUVofaypi/F5ugjMBKJkxW4cza9shC/69eujf9UN/r+5nS53BJKWK4o/ZWf+fXUcPjx9VloQDQVCKUUDy/48vDM9vIjmcjzVpCpOUCoodc3NR1IAsqLUlv0bn4GVNnMQkqYwQ+fH1Z5snWj5gIR/9/v57UfG/53cRAXjjKJoaJjy5nCj069vvJWX/X9wDmX5xz5/NPeiR/KPViwqtH3YeRgnl/w8vYitNmVmpYMGfn/+fXMNqFDikaNuyY2SmsQUsbDS1ACDAAHFXUgQGOTnxAAAAAElFTkSuQmCC","title":"Classic Search","description":"Get the old search back","developer":"STUDIOXENIX","version":"1.0 REV D","frame":"false","beta":"false","details":"This is a very simple extension that simply redirects your search requests to the old Tumblr tag search pages. Note that features of the new search page, such as multiple tag search will not work when this extension is enabled.","file":"found","server":"up","errors":false,"slow":"false"}