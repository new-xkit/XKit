{"id":"one_click_postage","script":"//* TITLE One-Click Postage **//\r\n//* VERSION 4.0.6 **//\r\n//* DESCRIPTION Lets you easily reblog, draft and queue posts **//\r\n//* DEVELOPER STUDIOXENIX **//\r\n//* FRAME false **//\r\n//* BETA false **//\r\n\r\nXKit.extensions.one_click_postage = new Object({\r\n\r\n\trunning: false,\r\n\r\n\tqq_icon: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzgxMzAzQzIwRDZGMTFFM0IyOTBDRDZCRDY3Qzk1QTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzgxMzAzQzMwRDZGMTFFM0IyOTBDRDZCRDY3Qzk1QTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDODEzMDNDMDBENkYxMUUzQjI5MENENkJENjdDOTVBOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDODEzMDNDMTBENkYxMUUzQjI5MENENkJENjdDOTVBOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpK36AkAAAFxSURBVHjalJSxS8NAFMZzJruuhSBCdHMISIcWhw4OAZfO/hHSySmFblnF2cH/wA6CDg5Oujg4dHJRUGinklWo1O/kO3h5Hkl88OOSd+++vHv3cma9XgfajDE9DEegD/ZBB8zBDDyCe6x7+rPQijlgCSjAwk7VsGBcUlkvhLrgukFEY+O7FTFmpIVeQQZiEHLM6NeCiRQrVEAe1Fuu4gtX+56qkRY6B8/gUNU3VzW0OsFYbU3bDeeOlVigtjze4PE7Ow3+ZzK+H7GPnM08CwzHXfTfAZ/fwFLF/+qsRKqhR+zO0xInnAuFbxWxs2NO2k7/VGJnYBt8gW/6liLe2VxnsQO25N/RYJnI7NY5U/AuJh6saAuxymk6pxUqwRCMOHnVIObts5SOiQi0mZU1Yt4/IBI1KkXd7PMm32MWt8PjvwB7QngKLuWX7OIXMOCX7PuUmbW/NWgjT+CkRsx7nxmRXcrMSm59gIAhuv6j7U37I8AABDEAB/datwYAAAAASUVORK5CYII=\",\r\n\tqq_ok_icon: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzNGRkUyQzUwRDcwMTFFM0IyOTBDRDZCRDY3Qzk1QTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzNGRkUyQzYwRDcwMTFFM0IyOTBDRDZCRDY3Qzk1QTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDODEzMDNDNDBENkYxMUUzQjI5MENENkJENjdDOTVBOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3M0ZGRTJDNDBENzAxMUUzQjI5MENENkJENjdDOTVBOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkDLUa4AAAG4SURBVHjalJQxSEJRFIafL/fcRNAKrIYSCsJBCWpwqK3WpgQ3IwgiQhKCJBocRBoFp5ptcwiqRYccJNxECgqkpWxsCPov/DdOh6fRgY93733n/Jx77rnXl72YdzwsAVIgCWIgBPqgAxrgGjSN4/lW5yfIr0SiIAPSIKj+hckayIIqqICedXCFcxwUwaGHkLYg/Yo7l7G4FjMZ5cCGCOiCdRDhDiKcd4WP8c9BMCrFMkooD2ZBHbyAL37rXM8rwYwVS7BGUqgg5iXQAstiraAE08gu4fLUgmJrBVWfabAExtV6QWzZxKdcHr+1Xed/Jv2TfvaRtY5HgE9laOwRvCn/mMuGtNb3EBtTtWux17R/yM+FsF3gqUk7ABPgk6fqMCtHJ2L7x9oUCICBWHsAc0Nq9qtEts8WwRNr8Q5uKfqXlcW4YcVqDN4Ee2CFNRplR2CG41dz+V1mNcngGr936kZ4CZ2IeRWvR9MvtjMQdRuIJg3zkEKsUVlkZHdVsU+Qqc8H2AZtcMP5FZ2fR2RohE6RVU9e9GOwQCGHWbVHiJganYF9CN3rx7HEDFe5xQDHDvtu6Esr7VuAAQC+Omj592980QAAAABJRU5ErkJggg==\",\r\n\r\n\tpreferences: {\r\n\t\t\"sep_-1\": {\r\n\t\t\ttext: \"Default Blog\",\r\n\t\t\ttype: \"separator\",\r\n\t\t},\r\n\t\t\"default_blog\": {\r\n\t\t\ttext: \"Default blog for One-Click Postage\",\r\n\t\t\tdefault: \"\",\r\n\t\t\tvalue: \"\",\r\n\t\t\ttype: \"blog\",\r\n\t\t},\r\n\t\t\"sep_0\": {\r\n\t\t\ttext: \"Shortcuts\",\r\n\t\t\ttype: \"separator\",\r\n\t\t},\r\n\t\t\"enable_keyboard_shortcuts\": {\r\n\t\t\ttext: \"Use keyboard shortcuts (R/Q/D to reblog/queue/draft, T to tag, escape to close)\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false\r\n\t\t},\r\n\t\t\"enable_quick_queue\": {\r\n\t\t\ttext: \"Enable QuickQueue buttons on posts\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false\r\n\t\t},\r\n\t\t\"enable_quick_blog_reblog\": {\r\n\t\t\ttext: \"Enable QuickReblog and QuickQueue on top right corner when I visit blogs\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false,\r\n\t\t\texperimental: true\r\n\t\t},\r\n\t\t\"sep_5\": {\r\n\t\t\ttext: \"AlreadyReblogged <a id=\\\"xkit-alreadyreblogged-help\\\" href=\\\"#\\\" onclick=\\\"return false\\\">what is this?</a>\",\r\n\t\t\ttype: \"separator\",\r\n\t\t},\r\n\t\t\"enable_alreadyreblogged\": {\r\n\t\t\ttext: \"Enable AlreadyReblogged for posts I reblog, queue or draft\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false\r\n\t\t},\r\n\t\t\"already_reblogged_limit\": {\r\n\t\t\ttext: \"Remember the last <i>X</i> posts reblogged\",\r\n\t\t\tdefault: \"a3000\",\r\n\t\t\tvalue: \"a3000\",\r\n\t\t\ttype: \"combo\",\r\n\t\t\tvalues: [\r\n\t\t\t\t\"Default (3,000)\", \"a3000\",\r\n\t\t\t\t\"1,500 Posts\", \"a1500\",\r\n\t\t\t\t\"1,000 Posts\", \"a1000\",\r\n\t\t\t\t\"500 Posts\", \"a500\",\r\n\t\t\t\t\"250 Posts\", \"a250\",\r\n\t\t\t\t\"4 Posts\", \"a4\",\r\n\t\t\t],\r\n\t\t},\r\n\t\t\"enable_hide_alreadyreblogged\": {\r\n\t\t\ttext: \"Hide posts if they are AlreadyReblogged on my dashboard\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false\r\n\t\t},\r\n\t\t\"sep_1\": {\r\n\t\t\ttext: \"Popup Options\",\r\n\t\t\ttype: \"separator\",\r\n\t\t},\r\n\t\t\"dont_scroll_quicktags\": {\r\n\t\t\ttext: \"Turn off scrolling on Quick Tags bundles\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false\r\n\t\t},\r\n\t\t\"show_blog_selector\": {\r\n\t\t\ttext: \"Show blog selector\",\r\n\t\t\tdefault: true,\r\n\t\t\tvalue: true\r\n\t\t},\r\n\t\t\"enable_popup_html\": {\r\n\t\t\ttext: \"Enable HTML in One-Click Postage popup\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false\r\n\t\t},\r\n\t\t\"show_caption_remover\": {\r\n\t\t\ttext: \"Show the Remove Caption button\",\r\n\t\t\tdefault: true,\r\n\t\t\tvalue: true\r\n\t\t},\r\n\t\t\"show_caption\": {\r\n\t\t\ttext: \"Show the Caption box\",\r\n\t\t\tdefault: true,\r\n\t\t\tvalue: true\r\n\t\t},\r\n\t\t\"show_tag_remover\": {\r\n\t\t\ttext: \"Show the Clear Tags button\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false\r\n\t\t},\r\n\t\t\"show_reverse_ui\": {\r\n\t\t\ttext: \"Use the Reverse UI on the popup-window (popup on top of reblog button)\",\r\n\t\t\tdefault: true,\r\n\t\t\tvalue: true\r\n\t\t},\r\n\t\t\"show_small_ui\": {\r\n\t\t\ttext: \"Use the Slim User Interface on the pop-up window\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false\r\n\t\t},\r\n\t\t\"show_social\": {\r\n\t\t\ttext: \"Show Post To Facebook and Twitter buttons\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false\r\n\t\t},\r\n\t\t\"allow_resize\": {\r\n\t\t\ttext: \"Allow resizing of the caption box vertically (experimental)\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false\r\n\t\t},\r\n\t\t\"sep_2\": {\r\n\t\t\ttext: \"Notifications\",\r\n\t\t\ttype: \"separator\",\r\n\t\t},\r\n\t\t\"dim_posts_after_reblog\": {\r\n\t\t\ttext: \"Turn the reblog button green after a successful reblog/queue/draft\",\r\n\t\t\tdefault: true,\r\n\t\t\tvalue: true\r\n\t\t},\r\n\t\t\"dont_show_notifications\": {\r\n\t\t\ttext: \"Turn off the notifications displayed when successfully reblogged/queued/drafted\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false\r\n\t\t},\r\n\t\t\"sep_3\": {\r\n\t\t\ttext: \"Tagging options\",\r\n\t\t\ttype: \"separator\",\r\n\t\t}\r\n\t},\r\n\r\n\talready_reblogged: [],\r\n\tlast_object: {},\r\n\tlast_icon_object: {},\r\n\tlast_post_id: 0,\r\n\tuser_on_box: false,\r\n\tmenu_closer_int: 0,\r\n\tdefault_blog_id: \"\",\r\n\tcaption_height: 90,\r\n\r\n\tauto_tagger: false,\r\n\tauto_tagger_preferences: \"\",\r\n\r\n\tquick_tags: false,\r\n\r\n\tframe_run: function() {\r\n\r\n\t\tif (XKit.extensions.one_click_postage.preferences.enable_quick_blog_reblog.value) {\r\n\r\n\t\t\tXKit.extensions.one_click_postage.in_blog();\r\n\r\n\t\t}\r\n\r\n\t\tif (typeof XKit.page.peepr != \"undefined\" && XKit.page.peepr === true) {\r\n\t\t\tXKit.extensions.one_click_postage.run();\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tin_blog: function() {\r\n\r\n\t\t$(\".btn\").addClass(\"no_label\");\r\n\r\n\t\tif ($(\".btn.reblog\").length === 0) {return; }\r\n\r\n\t\tvar m_css = \"#iframe_controls { width: auto !important; } \" +\r\n\t\t\t\t\"#x1cpostage_in_blog_reblog:before {\" +\r\n\t\t\t\t\t\" background-size: auto; \" +\r\n\t\t\t\t\t\" background-position: 50% 50%; \" +\r\n\t\t\t\t\t\" background-repeat: no-repeat; \" +\r\n\t\t\t\t\t\" background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzA2MTUwNUY0MDFBMTFFM0I3QjRGNERGODZCRDlCN0MiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzA2MTUwNjA0MDFBMTFFM0I3QjRGNERGODZCRDlCN0MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MDYxNTA1RDQwMUExMUUzQjdCNEY0REY4NkJEOUI3QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3MDYxNTA1RTQwMUExMUUzQjdCNEY0REY4NkJEOUI3QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuZEKdMAAAD/SURBVHjalJK7CsIwFIbjBd9AUITSqUJ3L4NduklWn8S1z+OjKE5uBSelU+tlU2jpEv8DSakx1fjDR08Oybn1tIQQzFIDkOnONrPXDngfXqrAEtINzOp+ZRyFvZ6AqwCqhTH7T129BdIV9H60cAFTUwtn4IHBlwB90NGTKGMoA5wMD10QgR0o5DeS/irARLYgDI83DcMkv0uXluBhuLCSmSpxzkWapnVXRNPsNCzUFqzJyPOcBUHAsixjZVnW73BV6hzcDS0UKlUcx8JxHJEkSb2CQmXegwVItCoOyvB937QPB33iI+1czYCy09qEYfg2g1/7b/UXbII07sFLgAEAWx1gAHMEnncAAAAASUVORK5CYII=); \" +\r\n\t\t\t\t\"}\" +\r\n\t\t\t\t\"#x1cpostage_in_blog_queue:before {\" +\r\n\t\t\t\t\t\" background-size: auto; \" +\r\n\t\t\t\t\t\" background-position: 50% 50%; \" +\r\n\t\t\t\t\t\" background-repeat: no-repeat; \" +\r\n\t\t\t\t\t\" background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDZEMUIyMEM0MDFDMTFFM0I3QjRGNERGODZCRDlCN0MiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDZEMUIyMEQ0MDFDMTFFM0I3QjRGNERGODZCRDlCN0MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MDYxNTA2MTQwMUExMUUzQjdCNEY0REY4NkJEOUI3QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3MDYxNTA2MjQwMUExMUUzQjdCNEY0REY4NkJEOUI3QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmHw4kUAAAErSURBVHjahJKxasMwEIblBNq1tHQyGJduhtLBfoDi2WOH0jxAKd27eMlbhEyBQN+gD+ApU8hS3N2blw7pYLxd/oOTOYQcH3yWdJbu9N8pICKjLAMFeAIP4vsBFfgGe+MaBxDeQE3jVssefcbow0eatqMbhD/ZRGbfTTIbYCaaE6UqAM9m3BI5M9SgcjLMJfpG1gG4dPZUWsKf55rG4Qo8ggsZ37UEn3Vqfgc+wAr8y3gN4jEJ1rbgHnyN/Gd/PJNH4jN+OC/g1TqKojBt29ol+xfn2ngLdjzpuo7SNKUwDKlpGr1nd+4hcfX7ofl1TVEUuQF6W8Q1+AS/jozD0Pwk8ck8uO1iOUsp7A0obSrOzjXP81zfoDSenmviqS5MBbBBSiloL2MpfnMSYADCFn1McDQb3wAAAABJRU5ErkJggg==); \" +\r\n\t\t\t\t\"}\" +\r\n\t\t\t\t\"#x1cpostage_in_blog_draft:before {\" +\r\n\t\t\t\t\t\" background-size: auto; \" +\r\n\t\t\t\t\t\" background-position: 50% 50%; \" +\r\n\t\t\t\t\t\" background-repeat: no-repeat; \" +\r\n\t\t\t\t\t\" background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjUxMEI2MUU0RjcxMTFFM0E2REZERTA4MTkxRkNEODEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODlFMzUxNEU0Rjc4MTFFM0E2REZERTA4MTkxRkNEODEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyNTEwQjYxQzRGNzExMUUzQTZERkRFMDgxOTFGQ0Q4MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyNTEwQjYxRDRGNzExMUUzQTZERkRFMDgxOTFGQ0Q4MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnBnWXQAAADUSURBVHjapFI7DsMgDMVRLtElypw7sLByJM7Tq2TslgNkCjcIYnGNCqlDoESqpZfnGP+wAUQU/0gXGWsMAPz/In34QPQKaoXFzwT4ucfJ+ZvzECwl7W9WgrszaAkWr9DqgF0H8q01O6CAkWAIM8GRaSYYwpgcimDBTyxLsI8pACsJDI/QWuO2bdxkqjOgwweRDvq+70JKKay1wnvP3XSrA5dKLcuCwzDguq68A9c1tvBKyjRN5fOsg4PzGYTqwaSUOs2guoWI21toJTneQWQT7eItwABahmWkthQpGAAAAABJRU5ErkJggg==); \" +\r\n\t\t\t\t\"}\" +\r\n\t\t\t\t\".btn.xkit-button-working:before { background-image: url(data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDZEMUIyMTQ0MDFDMTFFM0I3QjRGNERGODZCRDlCN0MiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDZEMUIyMTU0MDFDMTFFM0I3QjRGNERGODZCRDlCN0MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowNkQxQjIxMjQwMUMxMUUzQjdCNEY0REY4NkJEOUI3QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowNkQxQjIxMzQwMUMxMUUzQjdCNEY0REY4NkJEOUI3QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAkQAAEALAAAAAAQABAAAAIVjI+py+0Po3QAmHptwoHzCYbiSDIFACH5BAkQAAEALAcABwAGAAIAAAIFBBJmaAUAIfkECRAAAQAsCwAHAAIAAgAAAgKEUQAh+QQFEAABACwAAAAAAQABAAACAkwBACH5BAUQAAEALAMABwACAAIAAAIChFEAIfkEBRAAAQAsBwAHAAIAAgAAAgKEUQAh+QQFEAABACwAAAAAAQABAAACAkwBADs=) !important; } \" +\r\n\t\t\t\t\".btn.xkit-button-done { background-color: #59982a !important; }\" +\r\n\t\t\t\t\".btn.xkit-button-error { background-color: #982a2a !important; }\";\r\n\r\n\t\tXKit.tools.add_css(m_css, \"x1cpostage_in_blog\");\r\n\r\n\t\tvar m_html = \"<a id=\\\"x1cpostage_in_blog_reblog\\\" onclick=\\\"return false\\\" class=\\\"btn icon reblog no_label\\\">1-Click Reblog</a>\" +\r\n\t\t\t\t\"<a id=\\\"x1cpostage_in_blog_queue\\\" onclick=\\\"return false\\\" class=\\\"btn icon reblog no_label\\\">1-Click Queue</a>\" +\r\n\t\t\t\t\"<a id=\\\"x1cpostage_in_blog_draft\\\" onclick=\\\"return false\\\" class=\\\"btn icon reblog no_label\\\">1-Click Draft</a>\";\r\n\r\n\t\t$(\".btn.reblog\").after(m_html);\r\n\r\n\t\t$(\"#x1cpostage_in_blog_reblog\").click(function() {\r\n\t\t\tXKit.extensions.one_click_postage.in_blog_post($(this), 0, false);\r\n\t\t});\r\n\r\n\t\t$(\"#x1cpostage_in_blog_queue\").click(function() {\r\n\t\t\tXKit.extensions.one_click_postage.in_blog_post($(this), 2, false);\r\n\t\t});\r\n\r\n\t\t$(\"#x1cpostage_in_blog_draft\").click(function() {\r\n\t\t\tXKit.extensions.one_click_postage.in_blog_post($(this), 1, false);\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tin_blog_post: function(obj, state, retry_mode) {\r\n\r\n\t\tif ($(obj).hasClass(\"xkit-button-working\") === true) { return; }\r\n\r\n\t\t$(obj).removeClass(\"xkit-button-error\");\r\n\t\t$(obj).removeClass(\"xkit-button-done\");\r\n\t\t$(obj).addClass(\"xkit-button-working\");\r\n\r\n\t\tvar post_id = $(\".btn.reblog\").attr('data-reblog-id');\r\n\t\tvar form_key = $(\".btn.reblog\").attr('data-form-key');\r\n\t\tvar reblog_key = $(\".btn.reblog\").attr('href').split(\"/\")[3];\r\n\r\n\t\tif (reblog_key.indexOf('?') !== -1) {\r\n\t\t\treblog_key = reblog_key.substring(0, reblog_key.indexOf('?'));\r\n\t\t}\r\n\r\n\t\tvar post_type = \"\";\r\n\t\tvar channel_id = $(\"#tumblelog_name\").attr('data-tumblelog-name');\r\n\t\tvar root_id = $(XKit.extensions.one_click_postage.last_object).attr('data-root-id');\r\n\t\tvar m_object = {};\r\n\t\tvar m_blogs = XKit.tools.get_blogs();\r\n\t\tvar blog_id = \"\";\r\n\r\n\t\tif (m_blogs === \"\") {\r\n\t\t\talert(\"Unable to QuickReblog/Queue:\\nCan't get list of current blogs, please visit dashboard first.\");\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tfor(i=0;i<m_blogs.length;i++) {\r\n\t\t\t\tif (m_blogs[i] !== \"\") {\r\n\t\t\t\t\tblog_id = m_blogs[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tXKit.extensions.one_click_postage.blogs_list = XKit.tools.get_blogs();\r\n\r\n\t\tif (XKit.extensions.one_click_postage.preferences.default_blog.value !== \"\") {\r\n\r\n\t\t\tif (XKit.extensions.one_click_postage.blogs_list.indexOf(XKit.extensions.one_click_postage.preferences.default_blog.value) !== -1) {\r\n\r\n\t\t\t\tchannel_id = XKit.extensions.one_click_postage.preferences.default_blog.value;\r\n\t\t\t\tblog_id = channel_id;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tXKit.iframe.full();\r\n\t\t\t\tXKit.window.show(\"Default blog not available\",\"<b>Your default blog is no longer available.</b><br/>This might be caused by changing the URL of the blog or logging into a different account.<br/><br/>Please change the default blog or enable \\\"Blog Selector\\\" from One-Click Postage Control Panel to continue.\",\"error\",\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message-ok\\\">OK</div>\");\r\n\r\n\t\t\t\t$(\"#xkit-close-message-ok\").click(function() {\r\n\r\n\t\t\t\t\tXKit.iframe.restore();\r\n\t\t\t\t\tXKit.window.close();\r\n\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tm_object.channel_id = blog_id;\r\n\t\tm_object.reblog_id = parseInt(post_id);\r\n\t\tm_object.reblog_key = reblog_key;\r\n\t\tm_object.form_key = form_key;\r\n\t\tm_object.post_type = post_type;\r\n\r\n\t\tvar tags = \"\";\r\n\t\tvar caption = \"\";\r\n\r\n\t\tGM_xmlhttpRequest({\r\n\t\t\tmethod: \"POST\",\r\n\t\t\turl: \"http://www.tumblr.com/svc/post/fetch\",\r\n\t\t\tdata: JSON.stringify(m_object),\r\n\t\t\tjson: true,\r\n\t\t\tonerror: function(response) {\r\n\r\n\t\t\t\tif (response.status === 401) {\r\n\t\t\t\t\talert(\"Unable to QuickReblog/Queue:\\nError Code: INOCP01\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (response.status === 404) {\r\n\t\t\t\t\t\talert(\"Unable to QuickReblog/Queue:\\nError Code: INOCP04 [Not Found]\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (retry_mode !== true) {\r\n\t\t\t\t\t\t\tsetTimeout(function() { XKit.extensions.one_click_postage.in_blog_post(obj, state, true); }, 500);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert(\"Unable to QuickReblog/Queue:\\nError Code: INOCP03 [Not allowed]\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\r\n\t\t\t\t$(obj).addClass(\"xkit-button-error\");\r\n\t\t\t\treturn;\r\n\t\t\t},\r\n\t\t\tonload: function(response) {\r\n\t\t\t\t// We are done!\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar mdata = jQuery.parseJSON(response.responseText);\r\n\t\t\t\t\tif (mdata.errors === false) {\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.in_blog_process(mdata, state, obj, m_object, false);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert(\"Unable to QuickReblog/Queue:\\nError Code: INOCP31\");\r\n\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\r\n\t\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t\talert(\"Unable to QuickReblog/Queue:\\nError Code: INOCP11\");\r\n\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\r\n\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tin_blog_process: function(data, state, obj, _m_object, retry_mode) {\r\n\r\n\t\tvar m_object = {};\r\n\r\n\t\tm_object.form_key = _m_object.form_key;\r\n\t\tm_object.channel_id = _m_object.channel_id;\r\n\r\n\t\tm_object.detached = true;\r\n\r\n\t\tm_object.reblog = true;\r\n\t\tm_object.reblog_id = parseInt(_m_object.reblog_id);\r\n\t\tm_object.reblog_key = _m_object.reblog_key;\r\n\r\n\t\tm_object.errors = false;\r\n\t\tm_object.created_post = data.created_post;\r\n\t\tm_object.context_page = data.post_context_page;\r\n\t\tm_object.post_context_page = data.post_context_page;\r\n\t\tm_object.silent = false;\r\n\r\n\t\tm_object.context_id = \"\";\r\n\t\tm_object.reblog_post_id = _m_object.reblog_id;\r\n\r\n\t\t// Not sure about this part:\r\n\t\tm_object[\"is_rich_text[one]\"] = \"0\";\r\n\t\tm_object[\"is_rich_text[two]\"] = \"1\";\r\n\t\tm_object[\"is_rich_text[three]\"] = \"0\";\r\n\r\n\t\tm_object[\"post[slug]\"] = \"\";\r\n\t\tm_object[\"post[draft_status]\"] = \"\";\r\n\t\tm_object[\"post[date]\"] = \"\";\r\n\r\n\t\tm_object[\"post[type]\"] = data.post.type;\r\n\r\n\t\tvar reblog_as_text = false;\r\n\r\n\t\tif (XKit.installed.check(\"reblog_as_text\") === true) {\r\n\t\t\tif (XKit.installed.enabled(\"reblog_as_text\") === true) {\r\n\t\t\t\treblog_as_text = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (reblog_as_text) {\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tif (data.post.can_reblog_as[0] === \"regular\") {\r\n\r\n\t\t\t\t\tm_object[\"post[type]\"] = \"regular\";\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch(e) {\r\n\r\n\t\t\t\tconsole.log(\"Can't read can_reblog_as....\");\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tm_object[\"post[tags]\"] = \"\";\r\n\r\n\t\tif (typeof data.post.two === \"undefined\") {\r\n\t\t\tdata.post.two = \"\";\r\n\t\t}\r\n\r\n\t\tm_object[\"post[tags]\"] = this.get_auto_tagger_tags(data.post, state, false);\r\n\r\n\t\tm_object[\"post[publish_on]\"] =\"\";\r\n\t\tif (state === 0) {\r\n\t\t\tm_object[\"post[state]\"] = \"\";\r\n\t\t} else {\r\n\t\t\tm_object[\"post[state]\"] = state;\r\n\t\t}\r\n\t\tm_object.custom_tweet = \"\";\r\n\r\n\t\tXKit.interface.kitty.get(function(kitty_data) {\r\n\r\n\t\t\tif (kitty_data.errors === true) {\r\n\r\n\t\t\t\t// We fucked up for some reason.\r\n\t\t\t\tif (retry_mode !== true) {\r\n\t\t\t\t\tXKit.extensions.one_click_postage.in_blog_process(data, state, obj, m_object, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"Unable to QuickReblog/Queue:\\nError Code: INOCP109-SFORMKEYFAIL\");\r\n\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\r\n\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tGM_xmlhttpRequest({\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\turl: \"http://www.tumblr.com/svc/post/update\",\r\n\t\t\t\tdata: JSON.stringify(m_object),\r\n\t\t\t\tjson: true,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"X-tumblr-puppies\": kitty_data.kitten,\r\n\t\t\t\t\t\"X-tumblr-form-key\": XKit.interface.form_key(),\r\n\t\t\t\t},\r\n\t\t\t\tonerror: function(response) {\r\n\t\t\t\t\tXKit.interface.kitty.set(\"\");\r\n\t\t\t\t\tif (response.status === 401) {\r\n\t\t\t\t\t\talert(\"Unable to QuickReblog/Queue:\\nError Code: INOCP101\");\r\n\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\r\n\t\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (response.status === 404) {\r\n\t\t\t\t\t\t\talert(\"Unable to QuickReblog/Queue:\\nError Code: INOCP104 Not Found\");\r\n\t\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\r\n\t\t\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (retry_mode !== true) {\r\n\t\t\t\t\t\t\t\tXKit.extensions.one_click_postage.in_blog_process(data, state, obj, m_object, true);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\talert(\"Unable to QuickReblog/Queue:\\nError Code: INOCP109-\" + response.status);\r\n\t\t\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\r\n\t\t\t\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonload: function(response) {\r\n\t\t\t\t\t// We are done!\r\n\t\t\t\t\tXKit.interface.kitty.set(response.getResponseHeader(\"X-tumblr-kittens\"));\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tvar mdata = jQuery.parseJSON(response.responseText);\r\n\t\t\t\t\t\tif (mdata.errors === false) {\r\n\t\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\r\n\t\t\t\t\t\t\t$(obj).addClass(\"xkit-button-done\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert(\"Unable to QuickReblog/Queue:\\nError Code: INOCP901\");\r\n\t\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\r\n\t\t\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch(e) {\r\n\t\t\t\t\t\talert(\"Unable to QuickReblog/Queue:\\nError Code: INOCP181\");\r\n\t\t\t\t\t\t$(obj).removeClass(\"xkit-button-working\");\r\n\t\t\t\t\t\t$(obj).addClass(\"xkit-button-error\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * If auto_tagger is enabled use it to get tags. Otherwise return \"\"\r\n\t * @param {Object} post - Post object, like those returned by\r\n\t * XKit.interface.post and XKit.interface.find_post\r\n\t * @param {number} state - Post state: 0 is reblog, 1 is draft, 2 is queue\r\n\t * @param {Boolean} isOriginal\r\n\t * @return {String} tags\r\n\t */\r\n\tget_auto_tagger_tags: function(post, state, isOriginal) {\r\n\t\tif (!this.auto_tagger) {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t\tvar auto_tagger = XKit.extensions.auto_tagger;\r\n\t\tif (typeof(auto_tagger) == \"undefined\") {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t\t// Call Auto Tagger for tags.\r\n\t\tvar additional_tags = auto_tagger.return_tags(post, isOriginal);\r\n\t\tif (state === 2) {\r\n\t\t\tvar queue_tags = auto_tagger.return_tags_for_queue();\r\n\t\t\tadditional_tags = auto_tagger.mreturn_add(additional_tags, queue_tags);\r\n\t\t}\r\n\t\treturn additional_tags;\r\n\t},\r\n\r\n\t/**\r\n\t * Return the addition of tags based on state from the auto_tagger. Only\r\n\t * queue is handled by this function because state is a horrible variable\r\n\t * @param {String} tags - current tags\r\n\t * @param {number} state - Post state: 0 is reblog, 1 is draft, 2 is queue\r\n\t * @return {String} new tags\r\n\t */\r\n\tadd_auto_tagger_state_tags: function(tags, state) {\r\n\t\tif (!this.auto_tagger) {\r\n\t\t\treturn tags;\r\n\t\t}\r\n\r\n\t\tvar auto_tagger = XKit.extensions.auto_tagger;\r\n\t\tif (typeof(auto_tagger) == \"undefined\") {\r\n\t\t\treturn tags;\r\n\t\t}\r\n\r\n\t\tif (state !== 2) {\r\n\t\t\treturn tags;\r\n\t\t}\r\n\r\n\t\tvar queue_tags = auto_tagger.return_tags_for_queue();\r\n\t\treturn auto_tagger.mreturn_add(tags, queue_tags);\r\n\t},\r\n\r\n\tcpanel: function(obj) {\r\n\r\n\t\t$(obj).append(\"<div id=\\\"one_click_postage_warning_movage\\\">Tagging options are moved to a separate extension called \\\"Auto Tagger.\\\"</div>\");\r\n\r\n\t\t$(\"#xkit-alreadyreblogged-help\").click(function() {\r\n\r\n\t\t\tXKit.window.show(\"AlreadyReblogged\",\"AlreadyReblogged keeps the track of the posts you reblog using One-Click Postage.<br/><br/>When you queue, draft or reblog a post using One-Click postage, the next time you refresh your page, the reblog button will turn green automatically.<br/><br/>Please note that this feature is experimental, and for now only keeps the last 3,000 posts.\",\"info\",\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div>\");\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tget_autotagger: function() {\r\n\r\n\t\tif (XKit.installed.check(\"auto_tagger\") === false) {\r\n\t\t\tXKit.extensions.one_click_postage.auto_tagger = false;\r\n\t\t} else {\r\n\t\t\tif (XKit.installed.enabled(\"auto_tagger\") === true) {\r\n\t\t\t\tif (typeof XKit.extensions.auto_tagger === \"undefined\") {\r\n\t\t\t\t\t// Not booted up yet?\r\n\t\t\t\t\tsetTimeout(function() { XKit.extensions.one_click_postage.get_autotagger(); }, 100);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tXKit.console.add(\"Auto tagger installed and found\");\r\n\t\t\t\t\tXKit.extensions.one_click_postage.auto_tagger = true;\r\n\t\t\t\t\tXKit.extensions.one_click_postage.auto_tagger_preferences = XKit.extensions.auto_tagger.preferences;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tXKit.extensions.one_click_postage.auto_tagger = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tget_quicktags: function() {\r\n\r\n\t\tif (XKit.installed.check(\"quick_tags\") === false) {\r\n\t\t\tXKit.extensions.one_click_postage.quick_tags = false;\r\n\t\t} else {\r\n\t\t\tif (XKit.installed.enabled(\"quick_tags\") === true) {\r\n\t\t\t\tif (typeof XKit.extensions.quick_tags === \"undefined\") {\r\n\t\t\t\t\t// Not booted up yet?\r\n\t\t\t\t\tsetTimeout(function() { XKit.extensions.one_click_postage.get_quicktags(); }, 100);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tXKit.console.add(\"Quick Tags installed and found\");\r\n\t\t\t\t\tXKit.extensions.one_click_postage.quick_tags = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tXKit.extensions.one_click_postage.quick_tags = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\r\n\trun: function() {\r\n\r\n\t\tXKit.tools.init_css(\"one_click_postage\");\r\n\r\n\t\t// Let's first check if we have auto_tagger installed and active.\r\n\t\tXKit.extensions.one_click_postage.get_autotagger();\r\n\r\n\t\t// Then, check Quick Tags.\r\n\t\tXKit.extensions.one_click_postage.get_quicktags();\r\n\r\n\t\tif (this.preferences.allow_resize.value) {\r\n\t\t\tXKit.tools.add_css(\"#x1cpostage_caption { resize: vertical; }\", \"one_click_postage_resize\");\r\n\t\t}\r\n\r\n\t\tif (this.preferences.show_small_ui.value) {\r\n\r\n\t\t\tthis.caption_height = 50;\r\n\t\t\tvar slim_css = \"#x1cpostage_caption { height: 50px; }\" +\r\n\t\t\t\t\t\"#x1cpostage_reblog, #x1cpostage_queue, #x1cpostage_draft { height: 32px; }\";\r\n\t\t\tXKit.tools.add_css(slim_css, \"one_click_postage_slim\");\r\n\r\n\t\t}\r\n\r\n\t\tvar m_remove_button = \"<div id=\\\"x1cpostage_remove_caption\\\">remove caption</div>\";\r\n\r\n\t\tif (!this.preferences.show_caption_remover.value) {\r\n\t\t\tm_remove_button = \"\";\r\n\t\t}\r\n\r\n\t\tvar m_remove_box_style = \"\";\r\n\t\tif (!this.preferences.show_caption.value) {\r\n\t\t\tm_remove_box_style = \" style=\\\"display: none;\\\" \";\r\n\t\t}\r\n\r\n\t\tvar m_clear_tags_button = \"<div id=\\\"x1cpostage_clear_tags\\\">clear tags</div>\";\r\n\r\n\t\tif (this.preferences.show_tag_remover.value !== true) {\r\n\t\t\tm_clear_tags_button = \"\";\r\n\t\t}\r\n\r\n\t\tvar m_html = \"\";\r\n\r\n\t\tif (this.preferences.show_reverse_ui.value) {\r\n\r\n\t\t\tm_html = \"<div id=\\\"x1cpostage_box\\\">\" +\r\n\t\t\t\t\t\t\"<input id=\\\"x1cpostage_tags\\\" placeholder=\\\"tags (comma separated)\\\" />\" +\r\n\t\t\t\t\t\tm_clear_tags_button +\r\n\t\t\t\t\t\t\"<textarea id=\\\"x1cpostage_caption\\\" \" + m_remove_box_style + \" placeholder=\\\"caption\\\"></textarea>\" +\r\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_replace\\\" \" + m_remove_box_style + \"><div>&nbsp;</div>replace caption, not append</div>\" +\r\n\t\t\t\t\t\tm_remove_button +\r\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_reblog\\\"><i>&nbsp;</i></div>\" +\r\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_queue\\\"><i>&nbsp;</i></div>\" +\r\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_draft\\\"><i>&nbsp;</i></div>\" +\r\n\t\t\t\t\t\"</div>\";\r\n\r\n\t\t\tXKit.tools.add_css(\"#x1cpostage_draft { border-radius: 0px 0px 3px 0px; } #x1cpostage_reblog { border-radius: 0px 0px 0px 3px; } #x1cpostage_tags { border-radius: 3px 3px 0px 0px; border-bottom: 0; } #x1cpostage_replace { border-bottom: 0; } #x1cpostage_remove_caption { border-top: 1px solid #abafbc; border-bottom: 0; }\",\"x1cpostage_reverse_ui\");\r\n\r\n\r\n\t\t} else {\r\n\r\n\t\t\tm_html = \"<div id=\\\"x1cpostage_box\\\" class=\\\"xkit-no-nipple xkit-1xcpostage-non-reversed\\\">\" +\r\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_reblog\\\"><i>&nbsp;</i></div>\" +\r\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_queue\\\"><i>&nbsp;</i></div>\" +\r\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_draft\\\"><i>&nbsp;</i></div>\" +\r\n\t\t\t\t\t\t\"<textarea id=\\\"x1cpostage_caption\\\" + m_remove_box_style + placeholder=\\\"caption\\\"></textarea>\" +\r\n\t\t\t\t\t\t\"<div id=\\\"x1cpostage_replace\\\" \" + m_remove_box_style + \"><div>&nbsp;</div>replace caption, not append</div>\" +\r\n\t\t\t\t\t\tm_remove_button +\r\n\t\t\t\t\t\t\"<input id=\\\"x1cpostage_tags\\\" placeholder=\\\"tags (comma separated)\\\" />\" +\r\n\t\t\t\t\t\tm_clear_tags_button +\r\n\t\t\t\t\t\"</div>\";\r\n\r\n\r\n\t\t}\r\n\r\n\t\t$(\"body\").append(m_html);\r\n\r\n\t\t$(document).on(\"mouseover\",\"#x1cpostage_queue\", function() {\r\n\r\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_press\");\r\n\t\t\t$(\"#x1cpostage_box\").addClass(\"xkit_x1cpostage_queue_hover\");\r\n\r\n\t\t});\r\n\r\n\t\t$(document).on(\"mouseout\",\"#x1cpostage_queue\", function() {\r\n\r\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_press\");\r\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_hover\");\r\n\r\n\t\t});\r\n\r\n\t\t$(document).on(\"mousedown\",\"#x1cpostage_queue\", function() {\r\n\r\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_hover\");\r\n\t\t\t$(\"#x1cpostage_box\").addClass(\"xkit_x1cpostage_queue_press\");\r\n\r\n\t\t});\r\n\r\n\t\t$(document).on(\"mouseup\",\"#x1cpostage_queue\", function() {\r\n\r\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_press\");\r\n\r\n\t\t});\r\n\r\n\t\tvar m_blogs = XKit.tools.get_blogs();\r\n\t\tvar m_blogselector_html = \"\";\r\n\r\n\t\tXKit.extensions.one_click_postage.blogs_list = m_blogs;\r\n\t\tXKit.extensions.one_click_postage.default_blog_id = m_blogs[0];\r\n\r\n\t\tif (this.preferences.show_blog_selector.value) {\r\n\t\t\tfor(i=0;i<m_blogs.length;i++) {\r\n\t\t\t\tif (m_blogs[i] !== \"\") {\r\n\t\t\t\t\tvar extra_cls = \"\";\r\n\t\t\t\t\tif (this.preferences.default_blog.value !== \"\") {\r\n\t\t\t\t\t\tif (this.preferences.default_blog.value === m_blogs[i]) {\r\n\t\t\t\t\t\t\textra_cls = \"selected\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tm_blogselector_html = m_blogselector_html + \"<option \" + extra_cls + \" value=\\\"\" +\r\n\t\t\t\t\t\t\tm_blogs[i] + \"\\\">\" + m_blogs[i] + \"</option>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tm_blogselector_html = \"<select id=\\\"x1cpostage_blog\\\">\" + m_blogselector_html + \"</select>\";\r\n\t\t\tif (this.preferences.show_reverse_ui.value) {\r\n\t\t\t\t$(\"#x1cpostage_reblog\").before(m_blogselector_html);\r\n\t\t\t} else {\r\n\t\t\t\t$(\"#x1cpostage_caption\").before(m_blogselector_html);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.preferences.show_social.value) {\r\n\t\t\tvar socials_html = \"<div id=\\\"xkit-1cp-social\\\">\" +\r\n\t\t\t\t\t\"<div data-site=\\\"facebook\\\" id=\\\"xkit-1cp-social-facebook\\\">&nbsp;</div>\" +\r\n\t\t\t\t\t\"<div data-site=\\\"twitter\\\" id=\\\"xkit-1cp-social-twitter\\\">&nbsp;</div>\" +\r\n\t\t\t\t\t\"</div>\";\r\n\t\t\tif (this.preferences.show_reverse_ui.value) {\r\n\t\t\t\t$(\"#x1cpostage_reblog\").before(socials_html);\r\n\t\t\t} else {\r\n\t\t\t\t$(\"#x1cpostage_draft\").after(socials_html);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar share_fb = XKit.storage.get(\"one_click_postage\",\"share_on_facebook\", \"false\");\r\n\t\tvar share_twitter = XKit.storage.get(\"one_click_postage\",\"share_on_twitter\", \"false\");\r\n\r\n\t\tif (share_fb === \"true\") { $(\"#xkit-1cp-social-facebook\").addClass(\"selected\"); }\r\n\t\tif (share_twitter === \"true\") { $(\"#xkit-1cp-social-twitter\").addClass(\"selected\"); }\r\n\r\n\t\t$(\"#xkit-1cp-social-facebook, #xkit-1cp-social-twitter\").click(function() {\r\n\t\t\t$(this).toggleClass(\"selected\");\r\n\t\t\tvar m_value = \"false\";\r\n\t\t\tif ($(this).hasClass(\"selected\") === true) { m_value = \"true\"; }\r\n\t\t\tXKit.storage.set(\"one_click_postage\",\"share_on_\" + $(this).attr('data-site'), m_value);\r\n\t\t});\r\n\r\n\t\t$(document).on(\"mouseover\",\".reblog_button,.post_control.reblog\", function(event) {\r\n\t\t\tif ($(this).hasClass(\"radar_button\") === true) {return; }\r\n\t\t\tclearTimeout(XKit.extensions.one_click_postage.menu_closer_int);\r\n\t\t\tXKit.extensions.one_click_postage.user_on_box = true;\r\n\t\t\tXKit.extensions.one_click_postage.open_menu($(this));\r\n\t\t});\r\n\r\n\t\t$(document).on(\"mouseout mouseleave\",\".reblog_button,.post_control.reblog\", function() {\r\n\t\t\tif ($(this).hasClass(\"radar_button\") === true) {return; }\r\n\t\t\tXKit.extensions.one_click_postage.user_on_box = false;\r\n\t\t\tXKit.extensions.one_click_postage.close_menu($(this));\r\n\t\t});\r\n\r\n\t\t$(document).on(\"click\",\".reblog_button,.post_control.reblog\", function() {\r\n\t\t\tXKit.extensions.one_click_postage.user_on_box = false;\r\n\t\t\tXKit.extensions.one_click_postage.close_menu($(this), true);\r\n\t\t});\r\n\r\n\r\n\t\tvar cancel_menu_close = function() {\r\n\t\t\tclearTimeout(XKit.extensions.one_click_postage.menu_closer_int);\r\n\t\t\tXKit.extensions.one_click_postage.user_on_box = true;\r\n\t\t};\r\n\r\n\t\tvar menu_close = function() {\r\n\t\t\t// Only close the menu if it doesn't have keyboard or mouse focus\r\n\t\t\tif ($(\"#x1cpostage_box\").find('input:focus, textarea:focus').length === 0 &&\r\n\t\t\t    $('#x1cpostage_box:hover').length === 0) {\r\n\r\n\t\t\t\tXKit.extensions.one_click_postage.user_on_box = false;\r\n\t\t\t\t//console.log(\"calling close_menu 3\");\r\n\t\t\t\tXKit.extensions.one_click_postage.close_menu($(this));\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$(document).on(\"mouseover\",\"#x1cpostage_box\", cancel_menu_close);\r\n\t\t$(document).on(\"mouseout\",\"#x1cpostage_box\", function() { console.log(\"1221\"); menu_close(); });\r\n\r\n\t\t$(\"#x1cpostage_tags, #x1cpostage_caption\").bind(\"keydown\", function(event) {\r\n\t\t\tif (XKit.extensions.one_click_postage.preferences.enable_keyboard_shortcuts.value\r\n\t\t\t\t\t&& event.which === 27) { // 27 = Escape\r\n\t\t\t\t$(this).blur();\r\n\t\t\t\tXKit.extensions.one_click_postage.user_on_box = false;\r\n\t\t\t\tXKit.extensions.one_click_postage.close_menu($(this), true);\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tevent.stopImmediatePropagation();\r\n\t\t});\r\n\r\n\t\t$(\"#x1cpostage_remove_caption\").click(function() {\r\n\r\n\t\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\r\n\r\n\t\t\t\t$(\"#x1cpostage_remove_caption\").css('display','none');\r\n\t\t\t\t$(\"#x1cpostage_caption\").css('display','none');\r\n\t\t\t\t$(\"#x1cpostage_replace\").css('display','none');\r\n\r\n\t\t\t\t// Determine where we are going to show the box.\r\n\t\t\t\tvar obj = XKit.extensions.one_click_postage.last_icon_object;\r\n\t\t\t\tvar offset = $(obj).offset();\r\n\r\n\t\t\t\t// Box position\r\n\t\t\t\tvar box_left = offset.left - ($(\"#x1cpostage_box\").width() / 2) + 13;\r\n\t\t\t\tvar box_top = (offset.top - $(\"#x1cpostage_box\").height()) - 12;\r\n\r\n\t\t\t\t$(\"#x1cpostage_box\").css(\"top\", box_top + \"px\");\r\n\t\t\t\t$(\"#x1cpostage_box\").css(\"left\", box_left + \"px\");\r\n\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t$(\"#x1cpostage_remove_caption\").slideUp('fast');\r\n\t\t\t\t$(\"#x1cpostage_caption\").slideUp('fast');\r\n\t\t\t\t$(\"#x1cpostage_replace\").slideUp('fast');\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\t$(\"#x1cpostage_caption\").addClass(\"x1cpostage_remove_caption_on\");\r\n\t\t\t$(\"#x1cpostage_tags\").css(\"border-top\",\"1px solid #abafbc\");\r\n\r\n\r\n\t\t});\r\n\r\n\t\t$(\"#x1cpostage_clear_tags\").click(function() {\r\n\r\n\t\t\t$(\"#x1cpostage_tags\").val(\"\");\r\n\r\n\t\t});\r\n\r\n\t\t$(\"#x1cpostage_replace\").click(function() {\r\n\t\t\t$(this).toggleClass(\"selected\");\r\n\t\t});\r\n\r\n\t\t$(\"#x1cpostage_reblog\").click(function() {\r\n\t\t\tXKit.extensions.one_click_postage.post(0, false);\r\n\t\t});\r\n\r\n\t\t$(\"#x1cpostage_queue\").click(function() {\r\n\t\t\tXKit.extensions.one_click_postage.post(2, false);\r\n\t\t});\r\n\r\n\t\t$(\"#x1cpostage_draft\").click(function() {\r\n\t\t\tXKit.extensions.one_click_postage.post(1, false);\r\n\t\t});\r\n\r\n\t\tif (this.preferences.enable_keyboard_shortcuts.value) {\r\n\t\t\t$(document).on('keydown', XKit.extensions.one_click_postage.process_keydown);\r\n\t\t\t// Must use capture=true here to intercept Tumblr's default handlers, so we can't use jQuery's .on()\r\n\t\t\twindow.addEventListener('keydown', XKit.extensions.one_click_postage.suspend_tumblr_key_commands, true);\r\n\t\t}\r\n\r\n\t\tthis.init_keep_tags_dashboard();\r\n\r\n\t\tif (this.preferences.enable_alreadyreblogged.value) {\r\n\r\n\t\t\tvar m_data = XKit.storage.get(\"one_click_postage\",\"already_reblogged\",\"\");\r\n\r\n\t\t\ttry {\r\n\t\t\t\tXKit.extensions.one_click_postage.already_reblogged = JSON.parse(m_data);\r\n\t\t\t} catch(e) {\r\n\t\t\t\tXKit.extensions.one_click_postage.already_reblogged = [];\r\n\t\t\t}\r\n\r\n\t\t\tXKit.post_listener.add(\"already_reblogged\", XKit.extensions.one_click_postage.check_if_alreadyreblogged);\r\n\t\t\tXKit.extensions.one_click_postage.check_if_alreadyreblogged();\r\n\r\n\t\t}\r\n\r\n\t\tif (this.preferences.enable_quick_queue.value) {\r\n\r\n\t\t\tif (XKit.interface.where().drafts === true || XKit.interface.where().queue === true) { return; }\r\n\t\t\tif ($(\"body\").hasClass(\"is_private_channel\")) {return; }\r\n\r\n\t\t\tXKit.interface.create_control_button(\"xkit-one-click-postage-quickqueue\", this.qq_icon, \"QuickQueue\", \"\", this.qq_ok_icon);\r\n\t\t\tXKit.post_listener.add(\"quick_queue_do_posts\", XKit.extensions.one_click_postage.quick_queue_do_posts);\r\n\t\t\tXKit.extensions.one_click_postage.quick_queue_do_posts();\r\n\r\n\t\t\t$(document).on('click', '.xkit-one-click-postage-quickqueue', XKit.extensions.one_click_postage.quick_queue_button_clicked);\r\n\r\n\t\t}\r\n\r\n\t\tif (XKit.extensions.one_click_postage.preferences.dont_scroll_quicktags.value) {\r\n\r\n\t\t\tXKit.tools.add_css(\"#x1cpostage_quick_tags { max-height: 10000px !important; }\",\"one_click_postage_qtdontscroll\");\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tquick_queue_button_clicked: function(e) {\r\n\r\n\t\tvar obj = $(e.target);\r\n\r\n\t\tif ($(obj).hasClass(\"xkit-interface-working\") === true) { return; }\r\n\r\n\t\tvar parent_box = $(e.target).parentsUntil('.post').parent();\r\n\r\n\t\tXKit.extensions.one_click_postage.last_object = parent_box;\r\n\t\tXKit.extensions.one_click_postage.last_icon_object = obj;\r\n\t\tXKit.extensions.one_click_postage.last_post_id = $(parent_box).attr('data-post-id');\r\n\r\n\t\tXKit.interface.switch_control_button($(obj), true);\r\n\t\tXKit.extensions.one_click_postage.post(2, false, true);\r\n\r\n\t},\r\n\r\n\tquick_queue_do_posts: function() {\r\n\r\n\t\tvar posts = XKit.interface.get_posts(\"xkit-1cp-quick-queue-done\");\r\n\r\n\t\tif (XKit.interface.where().queue === true) { return; }\r\n\r\n\t\t$(posts).each(function() {\r\n\r\n\t\t\t$(this).addClass(\"xkit-1cp-quick-queue-done\");\r\n\r\n\t\t\tif (XKit.interface.where().inbox === true) { return; }\r\n\r\n\t\t\tXKit.interface.add_control_button(this, \"xkit-one-click-postage-quickqueue\", \"\");\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tcheck_if_alreadyreblogged: function() {\r\n\r\n\t\t$(\".post\").not(\".xkit_already_reblogged_check\").each(function() {\r\n\r\n\t\t\tvar post_id = $(this).attr('data-root-id');\r\n\t\t\t$(this).addClass(\"xkit_already_reblogged_check\");\r\n\r\n\t\t\tif (XKit.extensions.one_click_postage.is_alreadyreblogged(post_id)) {\r\n\r\n\t\t\t\tif (XKit.extensions.one_click_postage.preferences.enable_hide_alreadyreblogged.value) {\r\n\t\t\t\t\tif (XKit.interface.where().dashboard === true) { $(this).remove(); }\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(this).find(\".post_control.reblog\").addClass(\"xkit-one-click-reblog-done\");\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\t$(document).off('click', '.reblog_button,.post_control.reblog', XKit.extensions.one_click_postage.process_click)\r\n\t\t\t.off('keydown', XKit.extensions.one_click_postage.process_keydown);\r\n\t\twindow.removeEventListener('keydown', XKit.extensions.one_click_postage.suspend_tumblr_key_commands);\r\n\t\tXKit.tools.remove_css(\"one_click_postage\");\r\n\t\tXKit.post_listener.remove(\"already_reblogged\");\r\n\t\tXKit.tools.remove_css(\"x1cpostage_reverse_ui\");\r\n\t\t$(\"#x1cpostage_box\").remove();\r\n\t\tXKit.tools.remove_css(\"one_click_postage_slim\");\r\n\t\tXKit.tools.remove_css(\"one_click_postage_resize\");\r\n\t\tXKit.tools.remove_css(\"one_click_postage_qtdontscroll\");\r\n\t},\r\n\r\n\tinit_keep_tags_dashboard: function() {\r\n\r\n\t\t$(document).on('click', '.reblog_button,.post_control.reblog', XKit.extensions.one_click_postage.process_click);\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {Event} e\r\n\t * @return {boolean} Whether e corresponds to an OCP key command\r\n\t */\r\n\tis_key_command: function(e) {\r\n\t\tif (e.metaKey || e.altKey || e.ctrlKey || e.shiftKey) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// 68 = D, 81 = Q, 82 = R, 84 = T\r\n\t\tif (e.which !== 68 && e.which !== 81 && e.which !== 82 && e.which !== 84) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif ($(e.target).is('input,textarea') || $(e.target).attr('contenteditable')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\tsuspend_tumblr_key_commands: function(e) {\r\n\t\tif (!XKit.extensions.one_click_postage.is_key_command(e)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tXKit.tools.add_function(function(){Tumblr.KeyCommands.suspend()}, true, '');\r\n\t},\r\n\r\n\tprocess_keydown: function(e) {\r\n\t\tif (!XKit.extensions.one_click_postage.is_key_command(e)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar header_height = $(\".l-header-container\").height();\r\n\t\t// Tumblr puts 20 px of padding between posts in addition to the height of the header\r\n\t\tvar screen_pos = $(window).scrollTop() + 20 + header_height;\r\n\r\n\t\t// Find the post at the top of the screen, if there is one\r\n\t\t$(\".reblog_button,.post_control.reblog\").filter(':visible').each(function() {\r\n\t\t\tif ($(this).hasClass(\"radar_button\")) {return; }\r\n\t\t\tvar parent_box = $(this).parentsUntil(\".post\").parent();\r\n\t\t\tvar box_pos = parent_box.offset().top;\r\n\t\t\tif (box_pos <= screen_pos && box_pos + parent_box.innerHeight() > screen_pos) {\r\n\t\t\t\tswitch (e.which) {\r\n\t\t\t\t\tcase 68: // 68 = D\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.open_menu($(this), true);\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.post(1, false);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 81: // 81 = Q\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.open_menu($(this), true);\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.post(2, false);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 82: // 82 = R\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.open_menu($(this), true);\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.post(0, false);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 84: // 84 = T\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.user_on_box = true;\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.open_menu($(this), false, true);\r\n\t\t\t\t\t\t$('#x1cpostage_tags').focus();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t} else if (box_pos > screen_pos) {\r\n\t\t\t\t// Post is too far down the screen, stop looking\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t\t// re-enable tumblr's key commands since we suspended them in suspend_tumblr_key_commands\r\n\t\tXKit.tools.add_function(function(){Tumblr.KeyCommands.resume()}, true, '');\r\n\t},\r\n\r\n\t/**\r\n\t * Allows keep_tags to continue to work even in the post editor.\r\n\t */\r\n\tprocess_click: function(e) {\r\n\r\n\t\tvar parent_box = $(e.target).parentsUntil('.post').parent();\r\n\r\n\t\tif (XKit.extensions.one_click_postage.auto_tagger && typeof XKit.extensions.auto_tagger != \"undefined\") {\r\n\t\t\t// Call Auto Tagger for tags. Specifies that this is a reblog\r\n\t\t\tvar post_obj = XKit.interface.post($(parent_box));\r\n\t\t\tvar additional_tags = XKit.extensions.auto_tagger.return_tags(post_obj, false);\r\n\t\t\tif (additional_tags !== \"\") {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tXKit.extensions.auto_tagger.inject_to_window(additional_tags);\r\n\t\t\t\t}, 200);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\r\n\topen_menu: function(obj, hide_ui, force_on_screen) {\r\n\r\n\t\tif ($(obj).attr('x1cpostage_disabled') === \"true\" || $(obj).hasClass(\"xkit-one-click-reblog-working\") === true) {\r\n\t\t\t// we are!\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Get the box ID.\r\n\t\tvar parent_box = $(obj).parentsUntil(\".post\").parent();\r\n\t\tvar box_id = $(parent_box).attr('id');\r\n\t\tvar previous_id = $(XKit.extensions.one_click_postage.last_object).attr('id');\r\n\r\n\t\t// Let's first hide our previous box.\r\n\t\t// only if the current id != previous ID.\r\n\t\tif (box_id !== previous_id) {\r\n\t\t\t// It is not! Hide it.\r\n\t\t\t// Also, change all the settings.\r\n\t\t\t$(\"#x1cpostage_box\").css('display','none');\r\n\t\t\tXKit.extensions.one_click_postage.reset_box();\r\n\t\t} else {\r\n\t\t\t// Lets see if the box is already open.\r\n\t\t\tif ($(\"#x1cpostage_box\").css(\"display\") === \"block\") {\r\n\t\t\t\t// It is. Let's end.\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Re-show the caption stuff.\r\n\t\tif (XKit.extensions.one_click_postage.preferences.show_caption.value) {\r\n\t\t\t$(\"#x1cpostage_caption\").css(\"display\",\"block\");\r\n\t\t\t$(\"#x1cpostage_replace\").css(\"display\",\"block\");\r\n\t\t} else {\r\n\t\t\t$(\"#x1cpostage_caption\").css(\"display\",\"none\");\r\n\t\t\t$(\"#x1cpostage_replace\").css(\"display\",\"none\");\r\n\t\t}\r\n\r\n\t\t$(\"#x1cpostage_remove_caption\").css(\"display\",\"block\");\r\n\t\t$(\"#x1cpostage_caption\").removeClass(\"x1cpostage_remove_caption_on\");\r\n\t\t$(\"#x1cpostage_tags\").css(\"border-top\",\"0px\");\r\n\t\t$(\"#x1cpostage_caption\").css(\"height\", XKit.extensions.one_click_postage.caption_height + \"px\");\r\n\r\n\t\tif (this.preferences.show_blog_selector.value && this.preferences.default_blog.value !== \"\") {\r\n\t\t\t$(\"#x1cpostage_blog option:selected\").prop(\"selected\", false);\r\n\t\t\t$(\"#x1cpostage_blog option[value='\" + this.preferences.default_blog.value + \"']\").prop(\"selected\", true);\r\n\t\t}\r\n\r\n\t\t$(obj).attr('title','');\r\n\r\n\t\t// Call Auto Tagger for tags. Will be \"\" if auto_tagger is disabled\r\n\t\tvar post_obj = XKit.interface.post($(parent_box));\r\n\t\tvar state = 0; // reblog\r\n\t\t$(\"#x1cpostage_tags\").val(this.get_auto_tagger_tags(post_obj, state, false));\r\n\r\n\t\t// Quick Tags?\r\n\t\t$(\"#x1cpostage_quick_tags\").remove();\r\n\t\tif (XKit.extensions.one_click_postage.quick_tags === true && typeof XKit.extensions.quick_tags != \"undefined\") {\r\n\t\t\t// Call Quick Tags to render our box.\r\n\t\t\tif (XKit.extensions.quick_tags.preferences.show_in_one_click_postage.value) {\r\n\t\t\t\tvar m_html = \"<div id=\\\"x1cpostage_quick_tags\\\">\" + XKit.extensions.quick_tags.return_for_one_click_postage() + \"</div>\";\r\n\t\t\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\r\n\t\t\t\t\t$(\"#x1cpostage_caption\").before(m_html);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(\"#x1cpostage_tags\").before(m_html);\r\n\t\t\t\t\t$(\"#x1cpostage_quick_tags\").addClass(\"xkit-no-reverse-ui\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (hide_ui !== true) {\r\n\t\t\t// Determine where we are going to show the box.\r\n\t\t\tvar offset = $(obj).offset();\r\n\r\n\t\t\t// Box position\r\n\r\n\t\t\tvar box_left = offset.left - ($(\"#x1cpostage_box\").width() / 2) + 13;\r\n\t\t\tvar box_top = offset.top + 35;\r\n\r\n\t\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\r\n\r\n\t\t\t\tbox_top = (offset.top - $(\"#x1cpostage_box\").height()) - 12;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (force_on_screen === true) {\r\n\t\t\t\tvar window_top = $(window).scrollTop();\r\n\t\t\t\tvar window_bottom = window_top + $(window).height();\r\n\t\t\t\tif (box_top < window_top) {\r\n\t\t\t\t\tbox_top = window_top + 5;\r\n\t\t\t\t} else if (box_top + $(\"#x1cpostage_box\").height() > window_bottom) {\r\n\t\t\t\t\tbox_top = window_bottom - $(\"#x1cpostage_box\").height() - 5;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t$(\"#x1cpostage_box\").css(\"top\", box_top + \"px\");\r\n\t\t\t$(\"#x1cpostage_box\").css(\"left\", box_left + \"px\");\r\n\r\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_press\");\r\n\t\t\t$(\"#x1cpostage_box\").removeClass(\"xkit_x1cpostage_queue_hover\");\r\n\r\n\t\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\r\n\t\t\t\t$(\"#x1cpostage_box\").fadeIn('fast');\r\n\t\t\t} else {\r\n\t\t\t\t$(\"#x1cpostage_box\").slideDown('fast');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tXKit.extensions.one_click_postage.last_object = parent_box;\r\n\t\tXKit.extensions.one_click_postage.last_icon_object = obj;\r\n\t\tXKit.extensions.one_click_postage.last_post_id = $(parent_box).attr('data-post-id');\r\n\r\n\r\n\t},\r\n\treset_box: function() {\r\n\t\t$(\"#x1cpostage_caption\").val(\"\");\r\n\t\t$(\"#x1cpostage_tags\").val(\"\");\r\n\t\t$(\"#x1cpostage_tags\").blur();\r\n\t\t$(\"#x1cpostage_caption\").blur();\r\n\t},\r\n\tclose_menu: function(obj, force) {\r\n\r\n\t\tclearTimeout(XKit.extensions.one_click_postage.menu_closer_int);\r\n\r\n\t\tif (force === true) {\r\n\t\t\tlast_object = null;\r\n\t\t\tXKit.extensions.one_click_postage.user_on_box = false;\r\n\t\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\r\n\t\t\t\t$(\"#x1cpostage_box\").fadeOut('fast');\r\n\t\t\t} else {\r\n\t\t\t\t$(\"#x1cpostage_box\").slideUp('fast');\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tXKit.extensions.one_click_postage.menu_closer_int = setTimeout(function() {\r\n\t\t\tif (XKit.extensions.one_click_postage.user_on_box === false) {\r\n\t\t\t\tlast_object = null;\r\n\t\t\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\r\n\t\t\t\t\t$(\"#x1cpostage_box\").fadeOut('fast');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(\"#x1cpostage_box\").slideUp('fast');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, 700);\r\n\t},\r\n\r\n\t/**\r\n\t * Make a post\r\n\t * @param {number} state - State of post, 0 is reblog, 1 is draft, 2 is queue\r\n\t * @param {boolean} retry_mode - Whether the function is currently retrying\r\n\t * @param {boolean} quick_queue_mode - If this is from a Quick Queue button\r\n\t *                                     instead of the OCP ui (I think)\r\n\t */\r\n\tpost: function(state, retry_mode, quick_queue_mode) {\r\n\r\n\t\tif (XKit.extensions.one_click_postage.preferences.show_reverse_ui.value) {\r\n\t\t\t$(\"#x1cpostage_box\").fadeOut('fast');\r\n\t\t} else {\r\n\t\t\t$(\"#x1cpostage_box\").slideUp('fast');\r\n\t\t}\r\n\t\tvar form_key = XKit.interface.form_key();\r\n\t\tvar post = XKit.interface.post(XKit.extensions.one_click_postage.last_object);\r\n\r\n\t\tvar post_id = post.id;\r\n\t\tvar reblog_key = post.reblog_key;\r\n\t\tvar channel_id = post.owner;\r\n\r\n\t\tif (!reblog_key || reblog_key == \"undefined\") {\r\n\t\t\tvar reblog_link = $(XKit.extensions.one_click_postage.last_object).find(\".post_control.reblog\").attr('href').split(\"/\");\r\n\t\t\treblog_key = reblog_link[reblog_link.length - 1];\r\n\t\t}\r\n\r\n\t\tvar root_id = post.root_id;\r\n\t\tvar m_object = {\r\n\t\t\tchannel_id: channel_id,\r\n\t\t\treblog_id: parseInt(post.id),\r\n\t\t\treblog_key: reblog_key,\r\n\t\t\tform_key: form_key,\r\n\t\t\tpost_type: post.type,\r\n\t\t};\r\n\r\n\t\tvar blog_id = XKit.extensions.one_click_postage.default_blog_id;\r\n\t\tif ($(\"#x1cpostage_blog\").length > 0) {\r\n\t\t\tblog_id = $(\"#x1cpostage_blog\").val();\r\n\t\t\tXKit.extensions.one_click_postage.default_blog_id = $(\"#x1cpostage_blog\").val();\r\n\t\t} else {\r\n\r\n\t\t\tif (XKit.extensions.one_click_postage.preferences.default_blog.value !== \"\") {\r\n\r\n\t\t\t\tif (XKit.extensions.one_click_postage.blogs_list.indexOf(XKit.extensions.one_click_postage.preferences.default_blog.value) !== -1) {\r\n\r\n\t\t\t\t\tblog_id = XKit.extensions.one_click_postage.preferences.default_blog.value;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tXKit.window.show(\"Default blog not available\",\"<b>Your default blog is no longer available.</b><br/>This might be caused by changing the URL of the blog or logging into a different account.<br/><br/>Please change the default blog or enable \\\"Blog Selector\\\" from One-Click Postage Control Panel to continue.\",\"error\",\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div>\");\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif (quick_queue_mode !== true) {\r\n\t\t\t$(XKit.extensions.one_click_postage.last_object).find(\".reblog_button, .post_control.reblog\").addClass(\"xkit-one-click-reblog-working\");\r\n\t\t}\r\n\r\n\t\tvar m_button = $(XKit.extensions.one_click_postage.last_object).find(\".reblog_button, .post_control.reblog\");\r\n\r\n\t\tif (quick_queue_mode) {\r\n\t\t\tm_button = $(XKit.extensions.one_click_postage.last_object).find(\".xkit-one-click-postage-quickqueue\");\r\n\t\t}\r\n\r\n\t\tvar caption = $(\"#x1cpostage_caption\").val();\r\n\t\tvar tags = $(\"#x1cpostage_tags\").val();\r\n\r\n\t\tif (quick_queue_mode) {\r\n\t\t\ttags = this.get_auto_tagger_tags(post, state, false);\r\n\t\t\tcaption = \"\";\r\n\t\t} else {\r\n\t\t\ttags = this.add_auto_tagger_state_tags(tags, state);\r\n\t\t}\r\n\r\n\t\tvar xkit_version = XKit.version.split(\".\");\r\n\t\tvar xkit_version_minor = parseInt(xkit_version[1]);\r\n\r\n\t\tif (xkit_version_minor < 3) {\r\n\r\n\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\r\n\t\t\tXKit.extensions.one_click_postage.show_error(\"666\", state);\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tGM_xmlhttpRequest({\r\n\t\t\tmethod: \"POST\",\r\n\t\t\turl: \"http://www.tumblr.com/svc/post/fetch\",\r\n\t\t\tdata: JSON.stringify(m_object),\r\n\t\t\tjson: true,\r\n\t\t\tonerror: function(response) {\r\n\r\n\t\t\t\tif (response.status === 401) {\r\n\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP01\", state);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (response.status === 404) {\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP02 [Post Not Found]\", state);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (retry_mode !== true) {\r\n\t\t\t\t\t\t\tsetTimeout(function() { XKit.extensions.one_click_postage.post(state, true, quick_queue_mode); }, 500);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP03-\" + response.status, state);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\r\n\t\t\t\treturn;\r\n\t\t\t},\r\n\t\t\tonload: function(response) {\r\n\t\t\t\t// We are done!\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar mdata = jQuery.parseJSON(response.responseText);\r\n\r\n\t\t\t\t\tif (mdata.errors === false) {\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.process(mdata, state, form_key, blog_id, post_id, caption, tags, reblog_key, m_button, false, root_id, quick_queue_mode);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP05\", state);\r\n\t\t\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP04\", state);\r\n\t\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tprocess: function(data, state, form_key, blog_id, post_id, caption, tags, reblog_key, m_button, retry_mode, root_id, quick_queue_mode) {\r\n\r\n\t\tvar m_object = {};\r\n\r\n\t\tif (blog_id === \"\" || typeof blog_id === \"undefined\") {\r\n\r\n\t\t\tvar m_blogs = XKit.tools.get_blogs();\r\n\t\t\tfor(i=0;i<m_blogs.length;i++) {\r\n\t\t\t\tif (m_blogs[i] !== \"\") {\r\n\t\t\t\t\tblog_id = m_blogs[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (blog_id === \"\" || typeof blog_id === \"undefined\") {\r\n\t\t\t\tif ($(\"#tab_switching\").length > 0) {\r\n\t\t\t\t\tvar def_blog = $(\"#tab_switching\").find(\".tab_blog.item\").not(\".tab_dashboard\").attr('id').replace(\"tab_blog_\",\"\");\r\n\t\t\t\t\tblog_id = def_blog;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tXKit.window.show(\"Unable to process request\",\"Unable to set Blog ID. Please return to the dashboard and try again, and send me an ask if this continues.<br/><br/>The error code to report is <b>OCP30</b>. Thank you.\",\"error\",\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div><a href=\\\"http://new-xkit-extension.tumblr.com/ask\\\" class=\\\"xkit-button\\\">Send an ask</a>\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tm_object.form_key = form_key;\r\n\t\tm_object.channel_id = blog_id;\r\n\r\n\t\tm_object.detached = true;\r\n\r\n\t\tm_object.reblog = true;\r\n\t\tm_object.reblog_id = parseInt(post_id);\r\n\t\tm_object.reblog_key = reblog_key;\r\n\r\n\t\tm_object.errors = false;\r\n\t\tm_object.created_post = data.created_post;\r\n\t\tm_object.context_page = data.post_context_page;\r\n\t\tm_object.post_context_page = data.post_context_page;\r\n\t\tm_object.silent = false;\r\n\r\n\t\tm_object.context_id = \"\";\r\n\t\tm_object.reblog_post_id = post_id;\r\n\r\n\t\t// Not sure about this part:\r\n\t\tm_object[\"is_rich_text[one]\"] = \"0\";\r\n\t\tm_object[\"is_rich_text[two]\"] = \"1\";\r\n\t\tm_object[\"is_rich_text[three]\"] = \"0\";\r\n\r\n\t\tm_object[\"post[slug]\"] = \"\";\r\n\t\tm_object[\"post[draft_status]\"] = \"\";\r\n\t\tm_object[\"post[date]\"] = \"\";\r\n\r\n\t\tm_object[\"post[type]\"] = data.post.type;\r\n\r\n\t\tif (tags) {\r\n\t\t\tm_object[\"post[tags]\"] = tags;\r\n\t\t} else {\r\n\t\t\tm_object[\"post[tags]\"] = \"\";\r\n\t\t}\r\n\r\n\t\tif ($(\"#xkit-1cp-social-twitter\").hasClass(\"selected\") === true) {\r\n\t\t\tm_object.send_to_twitter = \"on\";\r\n\t\t}\r\n\r\n\t\tif ($(\"#xkit-1cp-social-facebook\").hasClass(\"selected\") === true) {\r\n\t\t\tm_object.send_to_fbog = \"on\";\r\n\t\t}\r\n\r\n\t\tif (typeof data.post.two === \"undefined\") {\r\n\t\t\tdata.post.two = \"\";\r\n\t\t}\r\n\r\n\t\tvar photo_post = false;\r\n\t\tif (data.post.type === \"photo\" || data.post.type === \"photoset\") {\r\n\t\t\tphoto_post = true;\r\n\t\t}\r\n\r\n\t\tcaption = XKit.tools.replace_all(caption, \"\\n\", \"<br/>\");\r\n\r\n\t\tvar variable_to_use = \"post[two]\";\r\n\t\tvar current_caption = data.post.two;\r\n\r\n\t\tif (data.post.type === \"link\" || data.post.type === \"note\") {\r\n\t\t\tvariable_to_use = \"post[three]\";\r\n\t\t\tcurrent_caption = data.post.three;\r\n\t\t}\r\n\r\n\t\tif ($(\"#x1cpostage_caption\").hasClass(\"x1cpostage_remove_caption_on\") === true) {\r\n\t\t\t// User wishes to remove caption.\r\n\t\t\tm_object.remove_reblog_tree = true;\r\n\t\t\tm_object[\"post[two]\"] = \"\";\r\n\t\t\tm_object[\"post[three]\"] = \"\";\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif (caption !== \"\" && typeof caption !== \"undefined\") {\r\n\t\t\t\tif ($(\"#x1cpostage_replace\").hasClass(\"selected\") === false) {\r\n\t\t\t\t\tif (!XKit.extensions.one_click_postage.preferences.enable_popup_html.value) {\r\n\t\t\t\t\t\tm_object[variable_to_use] = current_caption + \"<p>\" + caption.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;') + \"</p>\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tm_object[variable_to_use] = current_caption + \"<p>\" + caption + \"</p>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!XKit.extensions.one_click_postage.preferences.enable_popup_html.value) {\r\n\t\t\t\t\t\tm_object[variable_to_use] = caption.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tm_object[variable_to_use] = caption;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tm_object[variable_to_use] = current_caption;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif (m_object[variable_to_use]) {\r\n\t\t\tm_object[variable_to_use] = XKit.tools.replace_all(m_object[variable_to_use], \"&lt;br&gt;\", \"<br/>\");\r\n\t\t\tm_object[variable_to_use] = XKit.tools.replace_all(m_object[variable_to_use], \"&lt;br/&gt;\", \"<br/>\");\r\n\t\t}\r\n\r\n\t\tif (tags !== \"\" && typeof tags !== \"undefined\") {\r\n\t\t\tm_object[\"post[tags]\"] = tags;\r\n\t\t} else {\r\n\t\t\tm_object[\"post[tags]\"] = \"\";\r\n\t\t}\r\n\r\n\t\tm_object[\"post[publish_on]\"] =\"\";\r\n\t\tif (state === 0) {\r\n\t\t\tm_object[\"post[state]\"] = \"\";\r\n\t\t} else {\r\n\t\t\tm_object[\"post[state]\"] = state;\r\n\t\t}\r\n\t\tm_object.custom_tweet = \"\";\r\n\r\n\t\tXKit.interface.kitty.get(function(kitty_data) {\r\n\r\n\t\t\tif (kitty_data.errors === true) {\r\n\r\n\t\t\t\t// We fucked up for some reason.\r\n\t\t\t\tif (retry_mode !== true) {\r\n\t\t\t\t\tXKit.extensions.one_click_postage.process(data, state, form_key, \"\", post_id, caption, tags, reblog_key, m_button, true, root_id, quick_queue_mode);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP-FORMKEYREQFAIL08\", state);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tGM_xmlhttpRequest({\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\turl: \"http://www.tumblr.com/svc/post/update\",\r\n\t\t\t\tdata: JSON.stringify(m_object),\r\n\t\t\t\tjson: true,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"X-tumblr-puppies\": kitty_data.kitten,\r\n\t\t\t\t\t\"X-tumblr-form-key\": XKit.interface.form_key(),\r\n\t\t\t\t},\r\n\t\t\t\tonerror: function(response) {\r\n\t\t\t\t\tXKit.interface.kitty.set(\"\");\r\n\t\t\t\t\tif (response.status === 401) {\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP06\", state);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (response.status === 404) {\r\n\t\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP07\", state);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (retry_mode !== true) {\r\n\t\t\t\t\t\t\t\tXKit.extensions.one_click_postage.process(data, state, form_key, \"\", post_id, caption, tags, reblog_key, m_button, true, root_id, quick_queue_mode);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP08-\" + response.status, state);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\r\n\t\t\t\t},\r\n\t\t\t\tonload: function(response) {\r\n\t\t\t\t\t// We are done!\r\n\t\t\t\t\tXKit.interface.kitty.set(response.getResponseHeader(\"X-tumblr-kittens\"));\r\n\r\n\t\t\t\t\tvar mdata;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tmdata = jQuery.parseJSON(response.responseText);\r\n\t\t\t\t\t} catch(e) {\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP09-J\", state);\r\n\t\t\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (mdata.errors === false) {\r\n\t\t\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\r\n\t\t\t\t\t\tif (mdata.message === \"\" || typeof mdata.message === \"undefined\") {\r\n\t\t\t\t\t\t/*\tif (state === 0) { XKit.notifications.add(XKit.language.one_click_postage.status_ok_reblogged, \"ok\"); }\r\n\t\t\t\t\t\t\tif (state === 1) { XKit.notifications.add(XKit.language.one_click_postage.status_ok_drafted, \"ok\"); }\r\n\t\t\t\t\t\t\tif (state === 2) { XKit.notifications.add(XKit.language.one_click_postage.status_ok_queued, \"ok\"); } */\r\n\t\t\t\t\t\t} else {\r\n\r\n\r\n\t\t\t\t\t\t\tif (XKit.extensions.one_click_postage.preferences.enable_alreadyreblogged.value) {\r\n\t\t\t\t\t\t\t\tXKit.extensions.one_click_postage.add_to_alreadyreblogged(root_id);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (XKit.extensions.one_click_postage.preferences.enable_alreadyreblogged.value || XKit.extensions.one_click_postage.preferences.dim_posts_after_reblog.value) {\r\n\t\t\t\t\t\t\t\tif (quick_queue_mode !== true) {\r\n\t\t\t\t\t\t\t\t\t$(m_button).addClass(\"xkit-one-click-reblog-done\");\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tXKit.interface.switch_control_button($(m_button), false);\r\n\t\t\t\t\t\t\t\t\tXKit.interface.completed_control_button($(m_button), true);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (!XKit.extensions.one_click_postage.preferences.dont_show_notifications.value) {\r\n\t\t\t\t\t\t\t\tXKit.notifications.add(mdata.message, \"ok\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar m_error = \"Unknown error at svc/post/update\";\r\n\t\t\t\t\t\tif (typeof mdata.error !== \"undefined\") {\r\n\t\t\t\t\t\t\tm_error = mdata.error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tXKit.extensions.one_click_postage.show_error(\"OCP10\", state);\r\n\t\t\t\t\t\t$(m_button).removeClass(\"xkit-one-click-reblog-working\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tadd_to_alreadyreblogged: function(post_id) {\r\n\r\n\t\tif (XKit.extensions.one_click_postage.already_reblogged.indexOf(post_id) === -1) {\r\n\t\t\tXKit.extensions.one_click_postage.already_reblogged.push(post_id);\r\n\t\t\tXKit.extensions.one_click_postage.save_alreadyreblogged();\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tis_alreadyreblogged: function(post_id) {\r\n\r\n\t\tif (XKit.extensions.one_click_postage.already_reblogged.indexOf(post_id) === -1) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsave_alreadyreblogged: function() {\r\n\r\n\t\tvar limit_count = XKit.extensions.one_click_postage.preferences.already_reblogged_limit.value;\r\n\r\n\t\tvar limit = 3000;\r\n\r\n\t\ttry {\r\n\t\t\tlimit = parseInt(limit_count.substring(1));\r\n\t\t} catch(e) {\r\n\t\t\t//alert(\"NO\");\r\n\t\t}\r\n\r\n\t\tif (XKit.extensions.one_click_postage.already_reblogged.length >= limit) {\r\n\t\t\t// Drop 20 posts.\r\n\t\t\twhile (XKit.extensions.one_click_postage.already_reblogged.length >= limit) {\r\n\t\t\t\tXKit.extensions.one_click_postage.already_reblogged.shift();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconsole.log(\"already_reblogged length is \" + XKit.extensions.one_click_postage.already_reblogged.length);\r\n\t\tXKit.storage.set(\"one_click_postage\",\"already_reblogged\", JSON.stringify(XKit.extensions.one_click_postage.already_reblogged));\r\n\r\n\t},\r\n\r\n\tshow_error: function(code, state) {\r\n\r\n\t\tvar m_word = \"reblog\";\r\n\t\tif (state === 1) { m_word = \"draft\"; }\r\n\t\tif (state === 2) { m_word = \"queue\"; }\r\n\r\n\t\tvar m_causes = \"<ul class=\\\"xkit-one-click-postage-error-list\\\">\" +\r\n\t\t\t\t\t\"<li><b>You have used your daily post limit. (<a href=\\\"#\\\">more information</a>)</b><br/>The limit is 250 per day, set by Tumblr. Try again in 24 hours.<br/>This affects the queue too, and can't be circumvented.</li>\" +\r\n\t\t\t\t\t\"<li><b>You've filled up your queue.</b><br/>You can not queue more than 300 posts.</li>\" +\r\n\t\t\t\t\t\"<li><b>The post is deleted.</b><br/>The post you are trying to \" + m_word + \" is deleted by the user.</li>\" +\r\n\t\t\t\t\t\"<li><b>Your browser settings are denying XKit cookies.</b><br/>If you have disabled \\\"Third Party Cookies\\\", One-Click Postage can not work properly. Please enable them and try again.</li>\" +\r\n\t\t\t\t\t\"<li><b>There was a server error / change.</b><br/>Wait for a while and retry the \" + m_word + \" request.<br/>Check the XKit blog for updates.</li>\" +\r\n\t\t\t\t\"</ul>\";\r\n\r\n\t\tif (state === 2 && XKit.interface.user().queue >= 299) {\r\n\t\t\tm_causes = \"<ul class=\\\"xkit-one-click-postage-error-list\\\">\" +\r\n\t\t\t\t\t\"<li><b>You've filled your queue.</b><br/>You can not queue more than 300 posts.</li>\" +\r\n\t\t\t\t\"</ul>\";\r\n\t\t}\r\n\r\n\t\tif (code === \"666\") {\r\n\r\n\t\t\tXKit.window.show(\"I could not \" + m_word + \" your post.\",\"You need XKit <b>7.3.0</b> or higher for One-Click Postage to work.<br/>You currently have XKit <b>\" + XKit.version + \"</b> installed.<br/><br/>Please <a target=\\\"_BLANK\\\" href=\\\"http://xkit.info/notes/upgrade.php\\\">click here</a> to learn how to update XKit.\",\"error\",\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div><a href=\\\"http://new-xkit-extension.tumblr.com/\\\" class=\\\"xkit-button\\\">Visit the New XKit Blog</a>\");\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tXKit.window.show(\"I could not \" + m_word + \" your post.\",\"<b>One of the following might be the reason for that:</b>\" + m_causes + \"<small>Error Code: <b>\" + code + \"</b>.</small>\",\"error\",\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div><a href=\\\"http://new-xkit-extension.tumblr.com/\\\" class=\\\"xkit-button\\\">Visit the New XKit Blog</a><a href=\\\"http://new-xkit-extension.tumblr.com/ask\\\" class=\\\"xkit-button\\\">Send an ask</a>\");\r\n\r\n\t}\r\n\r\n});\r\n","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Mjg3MzQ3NjIzODVCMTFFM0ExQ0FBQzk4RDE5Q0VGNzkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Mjg3MzQ3NjMzODVCMTFFM0ExQ0FBQzk4RDE5Q0VGNzkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyODczNDc2MDM4NUIxMUUzQTFDQUFDOThEMTlDRUY3OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyODczNDc2MTM4NUIxMUUzQTFDQUFDOThEMTlDRUY3OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pgh70zkAAAOgSURBVHjatFZLTBNBGJ7ZHd6UtLQIFBQQQwQRA4VIMHpBY4KJjwTQGzEIMVyMJDw8mXCCePDqAzyYSEIwCAdjQEkwBhUNRTmARMq7rUChpTz6YEud7pZld7vbB9E/fyb//Dvz/c+ZHVj3BkDgITfwCG4gQqzeV/Bdw8hgf4ogwdNCIE5QWgASGmaKBGqBI25wSGL3IgLyoobSjrsDYQGpCARRB8xSSJ+Q6Md/mChvkQXtIZqo6vzuvMRyLOit2m+GJyP657bdwIkicA0wQ3pkBXbKZbNdZ6PMeE9KXMGNk88aS2aylOkEf6Mvw/r+EEJWy7xCkbq1KKU2Cin6dc0DujY/WxBBSJ4jdqqIAlezunMTytlthk3tp4W23ITKy5mtyqjMrolaqUR52pTbBgTHBjtNlZ3jotOhFGDGAk5aobrG7NANL7TZKBEE8kIVP2VQZGraWZy1dESgY0dicgQZCCOi8JipuHg29V44CeYsw9xyYkbk/lURiUBB0p0IpHRQaxOm9vykpmxVZXKsx02LfdawNfrL9Kp3qiJbdT1DXiaPPI71GfJS1hJeU5rRmpNQ+eKHxk5xuuvhkFe6eao7W1Xuv8gYZWi+ftLU66BAmlx9+4ye/TQ035QYU4QR7JT58Ui8Y98GbPnorUxDyXokUgTZTnOWwXSO+wJ6Oa6etxiZMhA4RbiR8Pj295X3MzV2utMDkh90jLBkNZI0JkYmEK4Dzbr1L2PG9uCDkKJ302UspocR51o43J2zuj2qNbZYHV9p91dWtwEXEyGCt9q0PaqK0QSP7qDMPZOFDop7svh3ERNI2H5Es5YuXxTTzihmUQPf9Q0uFw9ByAjyzvfEn0eRZPzppGYuiipa0/kTxkV4y5Ob+DRdUYGFTcfs5HKHAEFw03giwKeOpK3h0bUHvi8+6B6H6ztaro1MRfXKpnmZ5m3nDKMcM9wn6V0MgigTTHRh/ETZnGBgSuN0WVgDWaq6wpTGo3FKvEYtu4Q1y5uDc2t97HYuI+4oqAlLe26gXaoqTutjporoAsx54OBm1m90Su3lEnnrrjdAAh4ITHRW29SOc0weXRxOihyO5LhrJLSZtoYJiV8NAwV7xkJo+fMnPqhiS40br6dXq3dd1g1bgPW4yIiE4m8C3z9zGAkol/mzTra2teVteRjYJ4SCdn/PBbRznu4kQznnB/+D/0Seg+aWfjy5/T6qgosgaAA34L3DQzBwaDf9mGQ1fwUYABh6N/3DQc5sAAAAAElFTkSuQmCC","css":".xkit-one-click-reblog-done:after,\r\n.xkit-one-click-reblog-done {\r\n\r\n\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDFENEQ1MDI2MENGMTFFMUE4RjdCNEM0NEFGNjFDQjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDFENEQ1MDM2MENGMTFFMUE4RjdCNEM0NEFGNjFDQjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5OEM2NDYyNzYwQ0IxMUUxQThGN0I0QzQ0QUY2MUNCMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5OEM2NDYyODYwQ0IxMUUxQThGN0I0QzQ0QUY2MUNCMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtmUDCEAAAEFSURBVHjarJPPCgFRFIevPylSvI4dC6WUUkQzG0qRjfIAxAPIjqWIFI0oa89kpZT4nTqnptss3Jn7q6+ZzuLr3HvPifX3RRUxqbXzePsLcRU9p8GhlLItrQHPL7YhpVTBVcQiPYFvSCQVEYu0YaljEo9tHV9yBosgaQbEDJBcgEvjFSR9heiQhG2ZV106DSG8iRCPNNKlQzCnDTGUNlk4wf/SL3XBCqR5vP4OC0k2k1qSvwfu0AOFEFcwClrTBDjynBkFXWb1WpKFW1DnWk7bFONQpx3g2NwAkm7AzpLvLsf/gC4/VAs8Qd7g9VXQnSoWu3y/ZRvHV5r4YlNKod3tRZX+BBgA/epL4VrrHtgAAAAASUVORK5CYII=') !important;\r\n\tbackground-repeat: no-repeat !important;\r\n\tbackground-position: 50% 50% !important;\r\n\tbackground-size: auto auto !important;\r\n\tcursor: default !important;\r\n\r\n}\r\n\r\n\r\n#x1cpostage_quick_tags {\r\n\r\n\tmax-height: 70px;\r\n\toverflow-y: auto;\r\n\r\n}\r\n\r\n#x1cpostage_quick_tags .xkit-no-tags {\r\n\tpadding: 8px;\r\n\tfont-size: 12px;\r\n\tbackground: rgba(228,232,238,1);\r\n\tcolor: #7a7f8e;\r\n\tborder-bottom: 0px;\r\n}\r\n\r\n#x1cpostage_quick_tags .xkit-tag {\r\n\tborder: 0px !important;\r\n\tmargin-top: 1px !important;\r\n}\r\n\r\n#x1cpostage_quick_tags.xkit-no-reverse-ui .xkit-no-tags {\r\n\tborder-bottom: 1px solid #abafbc;\r\n\tborder-top: 0px;\r\n}\r\n\r\n#one_click_postage_warning_movage {\r\n\tpadding: 15px;\r\n\tfont-size: 12px;\r\n\tcolor: rgb(80,80,80);\r\n}\r\n\r\n#xkit-1cp-social-twitter,\r\n#xkit-1cp-social-facebook {\r\n\tbackground: rgba(245,245,245,1);\r\n\tcolor: #7a7f8e;\r\n\tborder-bottom: 0;\r\n\tline-height: 30px;\r\n\tfont-size: 12px;\r\n\tfloat: left;\r\n\twidth: 99px;\r\n\ttext-align: center;\r\n\theight: 30px;\r\n\tcursor: pointer;\r\n\tbackground-position: 50% 50%;\r\n\tbackground-repeat: no-repeat;\r\n}\r\n\r\n#xkit-1cp-social {\r\n\tmargin-top: 1px;\r\n}\r\n\r\n#xkit-1cp-social-twitter:hover,\r\n#xkit-1cp-social-facebook:hover {\r\n\tbackground-color: rgba(234,239,246,1);\r\n\tcolor: #7a7f8e;\r\n}\r\n\r\n#xkit-1cp-social-twitter.selected,\r\n#xkit-1cp-social-facebook.selected {\r\n\tbackground-color: #c5cdd8;\r\n\tbox-shadow: inset 1px 0px 0px rgba(255,255,255,0.12), inset 0px 1px 3px rgba(0,0,0,0.12);\r\n}\r\n\r\n#xkit-1cp-social-facebook {\r\n\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAUCAYAAABvVQZ0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTlFNDIzRjNENUQ3MTFFMkEzMDdEMENERTdFNEZBNEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTlFNDIzRjRENUQ3MTFFMkEzMDdEMENERTdFNEZBNEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OUU0MjNGMUQ1RDcxMUUyQTMwN0QwQ0RFN0U0RkE0RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OUU0MjNGMkQ1RDcxMUUyQTMwN0QwQ0RFN0U0RkE0RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtBKnCoAAAHlSURBVHjaYvz//z8DtQATAxUBC4gobV7ADaTqgVgCiP+T4ACQ2vdAXNNdm/AZbJi4qID2y9cfSsl1kbSk8HIgdQJsmIaKjPTrNx8Z/hEIPxN9FQYrE3UGNlZWhp+//jAsWr2P4dPnbwwqCpKScG8yEBELQAsZwnytFzIyMk4Dcr8AMS8bG+uR/yAzoPpZiPEGIxBbGKmfBBqUCAxfZiBXFYh/CPBx/yc5NoGGMLz7+HkKyA9MTEzlQMMvAfG5j5+/sTIxMpJmGCgs3777/AnEFhPhjwJ5DYiZ0EMHrzf5ebkYXO0Nwd7k4GADJQEGF1v99z9+/mb4+u07w47951GCG69hwAD+bW6omgVNT9dBYvpaCnVASunc5XuGQIOyGJG8idew33/+/gcG+Gkg8y8QfwMmTFACvwtkvwKmTQtY5BBl2MdPX9mAis+Cgk1EmN8KSJ/h4mTv/f79ZwAwkTOTlDdB4QH0H0gTq7a6rAw4tUsIG0DFyMvooHCBmAtmM1Kt1PiPJ7cwQRUw4suXILl///6BXfTn718WdDmQfngEGOoqPQWmbIbPX7/j9KawIO83EFtZXuKtkACPPEyOk4ONQVdT4TlYHdTVhMozkBgofT0C4kwgtoSKMcLKMyD+zEjNYhsgwAC59bMGRHLK8QAAAABJRU5ErkJggg==');\r\n}\r\n\r\n#xkit-1cp-social-twitter {\r\n\tborder-left: 0;\twidth: 100px;\r\n\tmargin-left: 1px;\r\n\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTlFNDIzRUZENUQ3MTFFMkEzMDdEMENERTdFNEZBNEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTlFNDIzRjBENUQ3MTFFMkEzMDdEMENERTdFNEZBNEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowMTRFREFFQUQ1Q0MxMUUyQTMwN0QwQ0RFN0U0RkE0RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OUU0MjNFRUQ1RDcxMUUyQTMwN0QwQ0RFN0U0RkE0RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtxfmAsAAAJsSURBVHjaYvz//z8DNQFjSdN8cvRxAfE3EKO7NgFFggVKcwLxdyIMCgTiAkYGBnmgv14C2bOBeE5p8wJFIK0ExPvBLmRhZu768/fvX6BAJR7DsoB4Khbx08zMTCK6GgpL3rz71AF2oZgIf+Czl+9UgExeIK4A4i9ommSYmZj6//77h80iU04Otj+v33005eXm5GMCifDxcnFAJbMZGRmPAukQpOBgUFaQNAcaxobL6bw8XP8D3M3fJEe6/AQbaKKnchXobLAkMNb1gNRqYDidBdITgTgIiK3xBayepvxLBVmxZiDzPdiUpy/fbtBUlf3HiKQIGOggg/OAeO3dB88L8Rn48dPXI0DqFjyWz12+5//58zcGclOkqDD/Ixgb7MIQb6v/DIyMTOQYBowQBklxocMoBmqoSNdFB9n/BdrEwEiigZqqMr9UFSVPoBgITJhn2NlYsrm5OL4xMRHvUCZGRgYDbaXdQOYbFANB4Pfvv4d+/fr9C0dawwrMDNX+A13YiC3rMehoyD1RlBO7se/IJYsbd58yvHn7ieEfnoJDVkqEwc3BAFQQnEZxNYwB9PZnoJc9vVxMJmioyLwBRhJew2KDHS4Ac0YhttKGH0h7ArE0NIOD2Iq4DDM1UGHwdjY5B7TcF+iIZxilTXKkK9ud+88Mr9956gvM3Gr//v1jRjeEh5uDQUVBisHSWJ1BSV4c5M0ioGEfsFnIAkwyH4H4kI+rqfa37z+V377/xPzm3WeGn7/+MLCzsTIIC/IyCAnwvAEaugeofgbQoIN4C1i0ElsYVBYAMajk4QHiz0B8D4jvIicNUgykGAAEGACCr8Ah2A4iegAAAABJRU5ErkJggg==');\r\n}\r\n\r\n.xkit-one-click-postage-error-list {\r\n\tfont-size: 12px; margin: 10px 25px 4px 25px; padding: 0; color: rgb(100,100,100);\r\n}\r\n\r\n.xkit-one-click-postage-error-list li {\r\n\tmargin-bottom: 6px;\r\n}\r\n\r\n.xkit-one-click-postage-error-list li b {\r\n\tcolor: black;\r\n}\r\n\r\n.xkit-one-click-reblog-working:after,\r\n.xkit-one-click-reblog-working {\r\n\r\n\tbackground-image: url(data:image/gif;base64,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) !important;\r\n\tbackground-repeat: no-repeat !important;\r\n\tbackground-position: 50% 50% !important;\r\n\tbackground-size: auto auto !important;\r\n\tcursor: default !important;\r\n\r\n}\r\n\r\n#x1cpostage_caption {\r\n\r\n\twidth: 200px;\r\n\theight: 90px;\r\n\tpadding: 10px;\r\n\tresize: none;\r\n\tborder: 0;\r\n\tbox-shadow: 0px 1px 0px white;\r\n\tmargin: 0; display: block;\r\n\tvertical-align: middle;\r\n\tbackground: white;\r\n\tmargin-top: 1px;\r\n\tborder-radius: 0;\r\n\r\n}\r\n\r\n#x1cpostage_clear_tags:hover,\r\n#x1cpostage_remove_caption:hover {\r\n\tbackground: -moz-linear-gradient(top,  #ffffff 0%, #dddddd 100%); /* FF3.6+ */\r\n\tbackground: -webkit-linear-gradient(top,  #ffffff 0%,#dddddd 100%); /* Chrome10+,Safari5.1+ */\r\n\tbackground: linear-gradient(to bottom,  #ffffff 0%,#dddddd 100%); /* W3C */\r\n\tcolor: rgb(80,80,80);\r\n}\r\n\r\n#x1cpostage_clear_tags:active,\r\n#x1cpostage_remove_caption:active {\r\n\r\n\tcolor: black;\r\n\tbackground: -moz-linear-gradient(top,  #D1D1D1 0%, #ffffff 100%); /* FF3.6+ */\r\n\tbackground: -webkit-linear-gradient(top,  #D1D1D1 0%,#ffffff 100%); /* Chrome10+,Safari5.1+ */\r\n\tbackground: linear-gradient(to bottom,  #D1D1D1 0%,#ffffff 100%); /* W3C */\r\n\r\n}\r\n\r\n#x1cpostage_clear_tags,\r\n#x1cpostage_remove_caption {\r\n\r\n\tbackground: #ffffff; /* Old browsers */\r\n\tbackground: -moz-linear-gradient(top,  #ffffff 0%, #D1D1D1 100%); /* FF3.6+ */\r\n\tbackground: -webkit-linear-gradient(top,  #ffffff 0%,#D1D1D1 100%); /* Chrome10+,Safari5.1+ */\r\n\tbackground: linear-gradient(to bottom,  #ffffff 0%,#D1D1D1 100%); /* W3C */\r\n\r\n\twidth: 200px;\r\n\tpadding: 5px 10px;\r\n\ttext-align: center;\r\n\tresize: none;\r\n\tfont-size: 12px;\r\n\tcolor: rgb(130,130,130);\r\n\tborder-top: 0;\r\n\tmargin: 0;\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n\r\n}\r\n\r\n#x1cpostage_clear_tags {\r\n\r\n\tborder-top: 1px solid #abafbc;\r\n\r\n}\r\n\r\n#x1cpostage_replace {\r\n\r\n\twidth: 200px;\r\n\tpadding: 5px 10px;\r\n\tpadding-left: 22px;\r\n\tresize: none;\r\n\tbackground: rgba(255,255,255,0.86);\r\n\tfont-size: 12px;\r\n\tcolor: #7a7f8e;\r\n\tborder-top: 0;\r\n\tmargin: 0;\r\n\tmargin-top: 2px;\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n\r\n}\r\n\r\n#x1cpostage_replace.selected div {\r\n\r\n\tbackground: #4c990d;\r\n\r\n}\r\n\r\n#x1cpostage_replace div {\r\n\r\n\tposition: absolute;\r\n\ttop: 8px; left: 8px;\r\n\twidth: 10px; height: 10px;\r\n\tborder: 1px solid #abafbc;\r\n\tborder-radius: 10px;\r\n\r\n}\r\n\r\n#x1cpostage_reblog,\r\n#x1cpostage_queue,\r\n#x1cpostage_draft {\r\n\r\n\tbackground: rgba(245,245,245,1);\r\n\tcolor: #7a7f8e;\r\n\tborder-bottom: 0;\r\n\tline-height: 30px;\r\n\tfont-size: 12px;\r\n\tfloat: left;\r\n\twidth: 68px;\r\n\ttext-align: center;\r\n\theight: 40px;\r\n\tcursor: pointer;\r\n\tbackground-position: 50% 50%;\r\n\tbackground-repeat: no-repeat;\r\n\tmargin-top: 1px;\r\n\tposition: relative;\r\n\tbodx-shadow: inset 0px 1px 2px rgba(0,0,0,0.12);\r\n\r\n}\r\n\r\n.xkit-1xcpostage-non-reversed #x1cpostage_reblog,\r\n.xkit-1xcpostage-non-reversed #x1cpostage_queue,\r\n.xkit-1xcpostage-non-reversed #x1cpostage_draft {\r\n\tmargin-top: 0; margin-bottom: 1px;\r\n}\r\n\r\n#x1cpostage_reblog:hover,\r\n#x1cpostage_queue:hover,\r\n#x1cpostage_draft:hover {\r\n\r\n\tbackground-color: rgba(234,239,246,1);\r\n\tcolor: #7a7f8e;\r\n}\r\n\r\n#x1cpostage_reblog:active,\r\n#x1cpostage_queue:active,\r\n#x1cpostage_draft:active {\r\n\r\n\tbackground-color: #bdc1c6;\r\n\tbox-shadow: inset 0px 1px 2px rgba(0,0,0,0.42);\r\n\tcolor: #7a7f8e;\r\n}\r\n\r\n#x1cpostage_queue,\r\n#x1cpostage_draft {\r\n\r\n\tborder-left: 0;\r\n\twidth: 64px;\r\n\r\n}\r\n\r\n#x1cpostage_reblog,\r\n#x1cpostage_draft {\r\n\r\n\twidth: 65px;\r\n\r\n}\r\n\r\n#x1cpostage_queue {\r\n\tmargin-left: 1px; margin-right: 1px; width: 68px;\r\n}\r\n\r\n#x1cpostage_reblog {\r\n\tborder-radius: 3px 0px 0px 0px;\r\n}\r\n\r\n#x1cpostage_blog {\r\n\r\n\twidth: 100%;\r\n\t-webkit-appearance: none;\r\n\tmargin: 0; padding: 5px 10px;\r\n\tborder-radius: 0;\r\n\tbox-sizing:border-box;\r\n\t-moz-box-sizing:border-box; /* Firefox */\r\n\t-webkit-box-sizing:border-box; /* Safari */\r\n\r\n\tborder: 0;\r\n\twidth: 200px;\r\n\tpadding: 5px 10px;\r\n\tresize: none;\r\n\tborder-bottom: 0;\r\n\tmargin: 1px 0px 0px 0px;\r\n\tbackground: white;\r\n\r\n}\r\n\r\n#x1cpostage_draft {\r\n\tborder-radius: 0px 3px 0px 0px;\r\n}\r\n\r\n#x1cpostage_reblog i,\r\n#x1cpostage_queue i,\r\n#x1cpostage_draft i {\r\n\twidth: 31px; height: 24px;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 50% 50%;\r\n\tposition: absolute;\r\n\ttop: 50%; left: 50%;\r\n\tmargin-left: -15px;\r\n\tmargin-top: -12px;\r\n\topacity: 0.42;\r\n}\r\n\r\n#x1cpostage_reblog:hover i,\r\n#x1cpostage_queue:hover i,\r\n#x1cpostage_draft:hover i {\r\n\topacity: 0.65;\r\n}\r\n\r\n#x1cpostage_reblog i {\r\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAYCAYAAAACqyaBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTM0RTU0NTYzRjI2MTFFM0JFOUNFQjdCODYyOTc5RjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTM0RTU0NTczRjI2MTFFM0JFOUNFQjdCODYyOTc5RjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMzFERUYyRDNGMjQxMUUzQkU5Q0VCN0I4NjI5NzlGMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMzFERUYyRTNGMjQxMUUzQkU5Q0VCN0I4NjI5NzlGMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkGJUl8AAAEySURBVHjaYvz//z/DQAEWbIKMjIyUmssGxL+QBbB5kolGnloDdQB+AHIROqYCABmyBdkB2OxhxGZZdHQ0RTYvW7YMZuh2IA4ARQFWT2FzUVRUFEhqF9QHlOJtQMyOzR58ce5Kpfj3BOJcbBJMdMhRq4C4nxLLBUA5kAQMA6uBGBSHfymx/CMZPl4LSru4LCbW8kYyLF4P9fFvfIqYCOTVfCBuIMPyCKQSLpscy+OAeBKUzUWi5TCLa4B4Ci5FBAsZYIHBAaQ2k5H1eoG4CJ89TARKKjZownEhI+iLyCrboSUcM9RiWElFCuBBK+Ww1yE4KhaQxcuoVLySbHkSFS0eUJ9vJ9VymANWkhnnxLUbCDQmWKCtkgGxHNYeW0cLy7FmfiwNSIwGITmWE1XC0QsABBgADhCiygx6rbEAAAAASUVORK5CYII=);\r\n}\r\n\r\n#x1cpostage_draft i {\r\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAYCAYAAAACqyaBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTM0RTU0NUEzRjI2MTFFM0JFOUNFQjdCODYyOTc5RjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTM0RTU0NUIzRjI2MTFFM0JFOUNFQjdCODYyOTc5RjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBMzRFNTQ1ODNGMjYxMUUzQkU5Q0VCN0I4NjI5NzlGMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBMzRFNTQ1OTNGMjYxMUUzQkU5Q0VCN0I4NjI5NzlGMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PocxU4wAAACJSURBVHja7JbhCoAgDIS9UKj3f9mI4vKHgYSlxWJoDg5RQTm/bQiSRisGoxiql9u7TQCLH5zX5DV7HYwQxpgZz2ZySHPO3QMjEHWeOPBqzuYSjkFjDdnOSJs0c1FjVsgxEi/wL+af1rlow2myzlmSdJ15Fczj9mkTa6LM15d7RV0O/QOpEbsAAwBPJClH/ORdXwAAAABJRU5ErkJggg==);\r\n}\r\n\r\n#x1cpostage_queue i {\r\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAYCAYAAAACqyaBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTM0RTU0NUUzRjI2MTFFM0JFOUNFQjdCODYyOTc5RjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTM0RTU0NUYzRjI2MTFFM0JFOUNFQjdCODYyOTc5RjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBMzRFNTQ1QzNGMjYxMUUzQkU5Q0VCN0I4NjI5NzlGMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBMzRFNTQ1RDNGMjYxMUUzQkU5Q0VCN0I4NjI5NzlGMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pgk/vG0AAAFUSURBVHjaYvz//z/DQAEmhgEEQ8NyRghwA+JZQHwdiL8A8S8gvgsVc4WqYUDGeAEozglhINAA4uMg5QTwMahaoswnxmIHIP5MhMUw/AmI7Sm2HAg0gfgLCRbD8AeoXvIsB0UzEJ8g0rI7UN++QxI7CjKDXMvdSPCpKxAbAPFvNHE3ci2fg8WSX1jEFgMxKxCfxyK3kFzL76EZ9APqu3lIYq+BWASI63CEyDVyLUf3JShIC6GJOBfKjwNiXSD+icPyj9SyHIaXATEXNBRAwX0GT1r4Tq7ld/EYegGIlYC4ikBCvI3PchY8hd8+qAXYgD4Qn4aGAAMBM0gvXqHZ5z+F2IWSQuY4BRYfIbuQQSpeP5JZvGpQo2Kxh1YWxFoMcqwdVWo1pCp1PxEW7yelSmUkpQ0HbBy4AKlQILYBYlmohU+g8bsCajlGgsZp3mgDciAAQIABAB0UVX/l/m+rAAAAAElFTkSuQmCC);\r\n}\r\n\r\n#x1cpostage_tags {\r\n\r\n\twidth: 200px;\r\n\tpadding: 5px 10px;\r\n\tresize: none;\r\n\tborder-top: 0;\r\n\tbdox-shadow: 0px 1px 0px rgba(255,255,255,0.53);\r\n\tborder-radius: 0px 0px 3px 3px;\r\n\tmargin: 0; border: 0;\r\n\tbackground: white;\r\n\r\n}\r\n\r\n#x1cpostage_box *{\r\n\tbox-sizing:border-box;\r\n\t-moz-box-sizing:border-box; /* Firefox */\r\n\t-webkit-box-sizing:border-box; /* Safari */\r\n}\r\n\r\n#x1cpostage_box {\r\n\r\n\twidth: 200px;\r\n\tposition: absolute;\r\n\tz-index: 1000;\r\n\ttop:0; left:0;\r\n\tdisplay: none;\r\n\tbackground-color: #bcbcbc;\r\n\tbox-shadow: 0 4px 9px rgba(0,0,0,0.35);\r\n\tborder-radius: 4px;\r\n\t/*background-image: -moz-linear-gradient(rgba(0,0,0,0.26),rgba(0,0,0,0.45));\r\n\tbackground-image: -ms-linear-gradient(rgba(0,0,0,0.26),rgba(0,0,0,0.45));\r\n\tbackground-image: -o-linear-gradient(rgba(0,0,0,0.26),rgba(0,0,0,0.45));\r\n\tbackground-image: -webkit-linear-gradient(rgba(0,0,0,0.26),rgba(0,0,0,0.45));\r\n\tbackground-image: linear-gradient(rgba(0,0,0,0.26),rgba(0,0,0,0.45));*/\r\n\tpadding: 1px;\r\n\r\n}\r\n\r\n#x1cpostage_box:after, #x1cpostage_box:before {\r\n\ttop: 100%;\r\n\tborder: solid transparent;\r\n\tcontent: \" \";\r\n\theight: 0;\r\n\twidth: 0;\r\n\tposition: absolute;\r\n\tpointer-events: none;\r\n}\r\n\r\n#x1cpostage_box:after {\r\n\tborder-color: rgba(245, 245, 245, 0);\r\n\tborder-top-color: rgb(245,245,245);\r\n\tborder-width: 10px;\r\n\tleft: 50%;\r\n\tmargin-left: -10px;\r\n\tmargin-top: -1px;\r\n}\r\n\r\n#x1cpostage_box.xkit_x1cpostage_queue_hover:after {\r\n\tborder-top-color: rgba(234,239,246,1);\r\n}\r\n\r\n#x1cpostage_box.xkit_x1cpostage_queue_press:after {\r\n\tborder-top-color: #bdc1c6;\r\n}\r\n\r\n#x1cpostage_box:before {\r\n\tborder-color: rgba(0, 0, 0, 0);\r\n\tborder-top-color: #bcbcbc;\r\n\tborder-width: 11px;\r\n\tleft: 50%;\r\n\tmargin-left: -11px;\r\n\tmargin-top: -1px;\r\n}\r\n\r\n#x1cpostage_box.xkit-no-nipple:after,\r\n#x1cpostage_box.xkit-no-nipple:before {\r\n\tdisplay: none;\r\n}","title":"One-Click Postage","description":"Lets you easily reblog, draft and queue posts","developer":"STUDIOXENIX","version":"4.0.6","frame":"false","beta":"false","file":"found","server":"up","errors":false,"slow":"false"}